{"version":3,"file":"ui.js","sources":["../src/models.ts","../node_modules/immer/dist/immer.esm.js","../node_modules/redux/es/redux.js","../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","../src/types.ts","../src/redux/authorization.ts","../src/redux/class.ts","../src/protobuf/state.ts","../src/protobuf/actions.ts","../node_modules/react-async-hook/dist/react-async-hook.esm.js","../src/react/context.ts","../src/react/hooks/actions.ts","../src/react/hooks/state.ts","../src/react/hooks/handler.ts","../node_modules/nanoid/index.prod.js","../node_modules/@protobufjs/aspromise/index.js","../node_modules/@protobufjs/base64/index.js","../node_modules/@protobufjs/eventemitter/index.js","../node_modules/@protobufjs/float/index.js","../node_modules/@protobufjs/inquire/index.js","../node_modules/@protobufjs/utf8/index.js","../node_modules/@protobufjs/pool/index.js","../node_modules/protobufjs/src/util/longbits.js","../node_modules/protobufjs/src/util/minimal.js","../node_modules/protobufjs/src/writer.js","../node_modules/protobufjs/src/writer_buffer.js","../node_modules/protobufjs/src/reader.js","../node_modules/protobufjs/src/reader_buffer.js","../node_modules/protobufjs/src/rpc/service.js","../node_modules/protobufjs/src/rpc.js","../node_modules/protobufjs/src/roots.js","../node_modules/protobufjs/src/index-minimal.js","../node_modules/protobufjs/minimal.js","../src/protobuf/index.js","../src/redux/network.ts","../node_modules/eventemitter3/index.js","../src/network.ts","../src/react/provider.tsx","../src/redux/reducer.ts","../src/roles.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-empty-interface */\n\nimport { NewType } from './types';\n\nexport enum FeedbackType {\n  END_CLASS,\n  LEAVE_CLASS,\n}\n\nexport enum QuickFeedbackType {\n  VIDEO,\n  AUDIO,\n  PRESENTATION,\n  OTHER,\n}\n\nexport interface QuickFeedback {\n  type: QuickFeedbackType;\n  stars: number | null;\n}\n\nexport interface PageEventIn {\n  sequenceNumber: number\n  isKeyframe: boolean\n  eventsSinceKeyframe: number\n  eventData: string\n}\n\nexport enum ContentType {\n  Blank = 'Blank',\n\n  // ActivityStreamID\n  Stream = 'Stream', // Consume a DOM (Activity) stream\n  // URLs\n  Activity = 'Activity', //Produce a DOM (Activity) Stream\n  Video = 'Video', // \n  Audio = 'Audio',\n  Image = 'Image',\n  //WebRTC Stream IDs\n  Camera = 'Camera',\n  Screen = 'Screen',\n}\n\nexport type UserID = NewType<string, 'UserID'>;\nexport const newUserId = (value: string): UserID => value as UserID;\n\nexport type DeviceID = NewType<string, 'DeviceID'>\nexport const newDeviceId = (value: string): DeviceID => value as DeviceID;\n\nexport type ActivityStreamID = NewType<string, 'ActivityStreamID'>\nexport const newActivityStreamId = (value: string): ActivityStreamID => value as ActivityStreamID;\n\nexport type WebRTCStreamID = NewType<string, 'WebRTCStreamID'>\nexport const newWebRtcStreamId = (value: string): WebRTCStreamID => value as WebRTCStreamID;\n\nexport type Timestamp = NewType<number, 'Timestamp'>\nexport const newTimestamp = (value: number): Timestamp => value as Timestamp;\n\nexport type TrophyType = NewType<string, 'TrophyType'>\nexport const newTrophyType = (value: string): TrophyType => value as TrophyType;\n\nexport type UserRole = NewType<string, 'UserRole'>\nexport const newUserRole = (role: string): UserRole => role as UserRole;\n\n\n\n// Class State\n// Change to Union\nexport interface Content {\n  type: ContentType\n  contentLocation?: string\n}\n\nexport interface Trophy {\n  timestamp: Timestamp\n  type: TrophyType\n}\n\n\nexport interface UserState {\n  id: UserID\n  name: string\n  role: UserRole\n  trophies: Trophy[]\n  deviceIds: DeviceID[] \n}\n\nexport interface DeviceState {\n  id: DeviceID\n  userId: UserID\n  activityStreamID?: ActivityStreamID\n  webRTCStreamIDs: WebRTCStreamID[]\n}\n\nexport interface ChatMessageState {\n  userId: UserID\n  timestamp: Timestamp\n  text: string\n}\n\nexport interface ClassState {\n  users: Record<UserID, UserState>\n  devices: Record<DeviceID, DeviceState>\n\n  chatMessages: ChatMessageState[]\n  content: Content\n  hostDeviceId?: DeviceID\n  classEndTime?: Timestamp\n}\n\nexport interface ChatMessageNotification {\n  id: string\n  user: UserState\n  message: string\n}\n\nexport interface ContentNotification {\n  type: ContentType,\n  contentId: string\n}\n\nexport interface SessionNotification {\n  // webRTC: WebRTC\n}\n\nexport interface TrophyNotification {\n  from: string\n  user: string\n  kind: string\n}\n\nexport interface VideoSynchronize { }\nexport interface WhiteboardStateOut { }\nexport interface WhiteboardEventOut { }\nexport interface ClassNotification {\n  chatMessage: ChatMessageNotification\n  join: DeviceState\n  leave: DeviceState\n  content: ContentNotification\n  trophy: TrophyNotification\n\n  //webRTC deprecated?\n  sfu: string\n  session: SessionNotification\n}\n","function n(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,r):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(r.length?\" \"+r.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function t(n){return!!n&&!!n[Q]}function r(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var t=Object.getPrototypeOf(n);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,\"constructor\")&&t.constructor;return r===Object||\"function\"==typeof r&&Function.toString.call(r)===Z}(n)||Array.isArray(n)||!!n[L]||!!n.constructor[L]||s(n)||v(n))}function e(r){return t(r)||n(23,r),r[Q].t}function i(n,t,r){void 0===r&&(r=!1),0===o(n)?(r?Object.keys:nn)(n).forEach((function(e){r&&\"symbol\"==typeof e||t(e,n[e],n)})):n.forEach((function(r,e){return t(e,r,n)}))}function o(n){var t=n[Q];return t?t.i>3?t.i-4:t.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,t){return 2===o(n)?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function a(n,t){return 2===o(n)?n.get(t):n[t]}function f(n,t,r){var e=o(n);2===e?n.set(t,r):3===e?(n.delete(t),n.add(r)):n[t]=r}function c(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var t=tn(n);delete t[Q];for(var r=nn(t),e=0;e<r.length;e++){var i=r[e],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),t)}function d(n,e){return void 0===e&&(e=!1),y(n)||t(n)||!r(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,t){return d(t,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(t){var r=rn[t];return r||n(18,t),r}function m(n,t){rn[n]||(rn[n]=t)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,t){t&&(b(\"Patches\"),n.u=[],n.s=[],n.v=t)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var t=n[Q];0===t.i||1===t.i?t.j():t.O=!0}function P(t,e){e._=e.p.length;var i=e.p[0],o=void 0!==t&&t!==i;return e.h.g||b(\"ES5\").S(e,t,o),o?(i[Q].P&&(O(e),n(4)),r(t)&&(t=M(e,t),e.l||x(e,t)),e.u&&b(\"Patches\").M(i[Q],t,e.u,e.s)):t=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),t!==H?t:void 0}function M(n,t,r){if(y(t))return t;var e=t[Q];if(!e)return i(t,(function(i,o){return A(n,e,t,i,o,r)}),!0),t;if(e.A!==n)return t;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(t,i){return A(n,e,o,t,i,r)})),x(n,o,!1),r&&n.u&&b(\"Patches\").R(e,r,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),t(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!t(v))return;e.m=!1}if(r(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,t,r){void 0===r&&(r=!1),n.h.F&&n.m&&d(t,r)}function z(n,t){var r=n[Q];return(r?p(r):n)[t]}function I(n,t){if(t in n)for(var r=Object.getPrototypeOf(n);r;){var e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Object.getPrototypeOf(r)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,t,r){var e=s(t)?b(\"MapSet\").N(t,r):v(t)?b(\"MapSet\").T(t,r):n.g?function(n,t){var r=Array.isArray(n),e={i:r?1:0,A:t?t.A:_(),P:!1,I:!1,D:{},l:t,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;r&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(t,r):b(\"ES5\").J(t,r);return(r?r.A:_()).p.push(e),e}function D(e){return t(e)||n(22,e),function n(t){if(!r(t))return t;var e,u=t[Q],c=o(t);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(t,c),u.I=!1}else e=F(t,c);return i(e,(function(t,r){u&&a(u.t,t)===r||f(e,t,n(r))})),3===c?new Set(e):e}(e)}function F(n,t){switch(t){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function r(n,t){var r=s[n];return r?r.enumerable=t:s[n]=r={configurable:!0,enumerable:t,get:function(){var t=this[Q];return\"production\"!==process.env.NODE_ENV&&f(t),en.get(t,n)},set:function(t){var r=this[Q];\"production\"!==process.env.NODE_ENV&&f(r),en.set(r,n,t)}},r}function e(n){for(var t=n.length-1;t>=0;t--){var r=n[t][Q];if(!r.P)switch(r.i){case 5:a(r)&&k(r);break;case 4:o(r)&&k(r)}}}function o(n){for(var t=n.t,r=n.k,e=nn(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=t[o];if(void 0===a&&!u(t,o))return!0;var f=r[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!t[Q];return e.length!==nn(t).length+(v?0:1)}function a(n){var t=n.k;if(t.length!==n.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}function f(t){t.O&&n(3,JSON.stringify(p(t)))}var s={};m(\"ES5\",{J:function(n,t){var e=Array.isArray(n),i=function(n,t){if(n){for(var e=Array(t.length),i=0;i<t.length;i++)Object.defineProperty(e,\"\"+i,r(i,!0));return e}var o=tn(t);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=r(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(t),o)}(e,n),o={i:e?5:4,A:t?t.A:_(),P:!1,I:!1,D:{},l:t,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,r,o){o?t(r)&&r[Q].A===n&&e(n.p):(n.u&&function n(t){if(t&&\"object\"==typeof t){var r=t[Q];if(r){var e=r.t,o=r.k,f=r.D,c=r.i;if(4===c)i(o,(function(t){t!==Q&&(void 0!==e[t]||u(e,t)?f[t]||n(o[t]):(f[t]=!0,k(r)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(r))}));else if(5===c){if(a(r)&&(k(r),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!r(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var t=Object.create(Object.getPrototypeOf(n));for(var i in n)t[i]=e(n[i]);return u(n,L)&&(t[L]=n[L]),t}function f(n){return t(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,u=r.op,f=t,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(r.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(r.value);default:return delete f[h]}default:n(17,u)}})),t},R:function(n,t,r,e){switch(n.i){case 0:case 4:case 2:return function(n,t,r,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=t.concat(n);r.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,t,r,e);case 5:case 1:return function(n,t,r,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,r];r=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=t.concat([v]);r.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=t.concat([l]);r.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:t.concat([\"length\"]),value:i.length})}(n,t,r,e);case 3:return function(n,t,r,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=t.concat([u]);r.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=t.concat([u]);r.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,t,r,e)}},M:function(n,t,r,e){r.push({op:\"replace\",path:[],value:t===H?void 0:t}),e.push({op:\"replace\",path:[],value:n.t})}})}function C(){function t(n,t){function r(){this.constructor=n}a(n,t),n.prototype=(r.prototype=t.prototype,new r)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(t){if(r(t)){var e=R(n.A.h,t,n);n.p.set(t,e),n.o.add(e)}else n.o.add(t)})))}function u(t){t.O&&n(3,JSON.stringify(p(t)))}var a=function(n,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},f=function(){function n(n,t){return this[Q]={i:2,l:t,A:t?t.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}t(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,t){var r=this[Q];return u(r),p(r).has(n)&&p(r).get(n)===t||(e(r),k(r),r.D.set(n,!0),r.o.set(n,t),r.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var t=this[Q];return u(t),e(t),k(t),t.D.set(n,!1),t.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(t){n.D.set(t,!1)})),n.o.clear())},o.forEach=function(n,t){var r=this;p(this[Q]).forEach((function(e,i){n.call(t,r.get(i),i,r)}))},o.get=function(n){var t=this[Q];u(t);var i=p(t).get(n);if(t.I||!r(i))return i;if(i!==t.t.get(n))return i;var o=R(t.A.h,i,t);return e(t),t.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,t=this,r=this.keys();return(n={})[V]=function(){return t.values()},n.next=function(){var n=r.next();return n.done?n:{done:!1,value:t.get(n.value)}},n},o.entries=function(){var n,t=this,r=this.keys();return(n={})[V]=function(){return t.entries()},n.next=function(){var n=r.next();if(n.done)return n;var e=t.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,t){return this[Q]={i:3,l:t,A:t?t.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}t(n,Set);var r=n.prototype;return Object.defineProperty(r,\"size\",{get:function(){return p(this[Q]).size}}),r.has=function(n){var t=this[Q];return u(t),t.o?!!t.o.has(n)||!(!t.p.has(n)||!t.o.has(t.p.get(n))):t.t.has(n)},r.add=function(n){var t=this[Q];return u(t),this.has(n)||(o(t),k(t),t.o.add(n)),this},r.delete=function(n){if(!this.has(n))return!1;var t=this[Q];return u(t),o(t),k(t),t.o.delete(n)||!!t.p.has(n)&&t.o.delete(t.p.get(n))},r.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},r.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},r.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},r.keys=function(){return this.values()},r[V]=function(){return this.values()},r.forEach=function(n,t){for(var r=this.values(),e=r.next();!e.done;)n.call(t,e.value,e.value,this),e=r.next()},n}();m(\"MapSet\",{N:function(n,t){return new f(n,t)},T:function(n,t){return new c(n,t)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,tn=Object.getOwnPropertyDescriptors||function(n){var t={};return nn(n).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(n,r)})),t},rn={},en={get:function(n,t){if(t===Q)return n;var e=p(n);if(!u(e,t))return function(n,t,r){var e,i=I(t,r);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,t);var i=e[t];return n.I||!r(i)?i:i===z(n.t,t)?(E(n),n.o[t]=R(n.A.h,i,n)):i},has:function(n,t){return t in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,t,r){var e=I(p(n),t);if(null==e?void 0:e.set)return e.set.call(n.k,r),!0;if(!n.P){var i=z(p(n),t),o=null==i?void 0:i[Q];if(o&&o.t===r)return n.o[t]=r,n.D[t]=!1,!0;if(c(r,i)&&(void 0!==r||u(n.t,t)))return!0;E(n),k(n)}return n.o[t]===r&&\"number\"!=typeof r&&(void 0!==r||t in n.o)||(n.o[t]=r,n.D[t]=!0,!0)},deleteProperty:function(n,t){return void 0!==z(n.t,t)||t in n.t?(n.D[t]=!1,E(n),k(n)):delete n.D[t],n.o&&delete n.o[t],!0},getOwnPropertyDescriptor:function(n,t){var r=p(n),e=Reflect.getOwnPropertyDescriptor(r,t);return e?{writable:!0,configurable:1!==n.i||\"length\"!==t,enumerable:e.enumerable,value:r[t]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,t){on[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),on.deleteProperty=function(t,r){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&n(13),en.deleteProperty.call(this,t[0],r)},on.set=function(t,r,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==r&&isNaN(parseInt(r))&&n(14),en.set.call(this,t[0],r,e,t[0])};var un=function(){function e(t){var e=this;this.g=B,this.F=!0,this.produce=function(t,i,o){if(\"function\"==typeof t&&\"function\"!=typeof i){var u=i;i=t;var a=e;return function(n){var t=this;void 0===n&&(n=u);for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var r;return(r=i).call.apply(r,[t,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),r(t)){var c=w(e),s=R(e,t,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!t||\"object\"!=typeof t){if((f=i(t))===H)return;return void 0===f&&(f=t),e.F&&d(f,!0),f}n(21,t)},this.produceWithPatches=function(n,t){return\"function\"==typeof n?function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(t,(function(t){return n.apply(void 0,[t].concat(i))}))}:[e.produce(n,t,(function(n,t){r=n,i=t})),r,i];var r,i},\"boolean\"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),\"boolean\"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){r(e)||n(8),t(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(t,r){var e=t&&t[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,r),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(t){t&&!B&&n(20),this.g=t},i.applyPatches=function(n,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}var o=b(\"Patches\").$;return t(n)?o(n,r):this.produce(n,(function(n){return o(n,r.slice(e+1))}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,D as current,J as enableAllPlugins,N as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,t as isDraft,r as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _b = __getOwnPropSymbols(b); _i < _b.length; _i++) {\r\n            var prop = _b[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop) {\r\n        return noop;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = value;\r\n    while (Object.getPrototypeOf(proto) !== null) {\r\n        proto = Object.getPrototypeOf(proto);\r\n    }\r\n    return Object.getPrototypeOf(value) === proto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/utils.ts\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value === null || typeof value === \"undefined\" || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj)) {\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignorePaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in keysToDetect) {\r\n        var childPath = path ? path + \".\" + key : key;\r\n        if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n            continue;\r\n        }\r\n        var result = detectMutations(isImmutable, ignorePaths, trackedProperty.children[key], obj[key], sameRef, childPath);\r\n        if (result.wasMutated) {\r\n            return result;\r\n        }\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _b = options.isImmutable, isImmutable = _b === void 0 ? isImmutableDefault : _b, ignoredPaths = options.ignoredPaths, _c = options.warnAfter, warnAfter = _c === void 0 ? 32 : _c, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_b) {\r\n        var getState = _b.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return type === \"undefined\" || val === null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _b = entries_1[_i], key = _b[0], nestedValue = _b[1];\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths && ignoredPaths.indexOf(nestedPath) >= 0) {\r\n            continue;\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return {\r\n                keyPath: nestedPath,\r\n                value: nestedValue\r\n            };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths);\r\n            if (foundNestedSerializable) {\r\n                return foundNestedSerializable;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _b = options.isSerializable, isSerializable = _b === void 0 ? isPlain : _b, getEntries = options.getEntries, _c = options.ignoredActions, ignoredActions = _c === void 0 ? [] : _c, _d = options.ignoredActionPaths, ignoredActionPaths = _d === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _d, _e = options.ignoredPaths, ignoredPaths = _e === void 0 ? [] : _e, _f = options.warnAfter, warnAfter = _f === void 0 ? 32 : _f, _g = options.ignoreState, ignoreState = _g === void 0 ? false : _g;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        if (ignoredActions.length && ignoredActions.indexOf(action.type) !== -1) {\r\n            return next(action);\r\n        }\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        measureUtils.measureTime(function () {\r\n            var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths);\r\n            if (foundActionNonSerializableValue) {\r\n                var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n            }\r\n        });\r\n        var result = next(action);\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _b = options.thunk, thunk = _b === void 0 ? true : _b, _c = options.immutableCheck, immutableCheck = _c === void 0 ? true : _c, _d = options.serializableCheck, serializableCheck = _d === void 0 ? true : _d;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _b = options || {}, _c = _b.reducer, reducer = _c === void 0 ? void 0 : _c, _d = _b.middleware, middleware = _d === void 0 ? curriedGetDefaultMiddleware() : _d, _e = _b.devTools, devTools = _e === void 0 ? true : _e, _f = _b.preloadedState, preloadedState = _f === void 0 ? void 0 : _f, _g = _b.enhancers, enhancers = _g === void 0 ? void 0 : _g;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var storeEnhancers = [middlewareEnhancer];\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(storeEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isFSA(action) {\r\n    return isPlainObject(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/createReducer.ts\r\nimport createNextState, { isDraft as isDraft2, isDraftable } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (type in actionsMap) {\r\n                throw new Error(\"addCase cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    var _b = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _b[0], finalActionMatchers = _b[1], finalDefaultCaseReducer = _b[2];\r\n    var frozenInitialState = createNextState(initialState, function () {\r\n    });\r\n    return function (state, action) {\r\n        if (state === void 0) { state = frozenInitialState; }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_b) {\r\n            var matcher = _b.matcher;\r\n            return matcher(action);\r\n        }).map(function (_b) {\r\n            var reducer = _b.reducer;\r\n            return reducer;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (typeof result === \"undefined\") {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (typeof result === \"undefined\") {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    };\r\n}\r\n// src/createSlice.ts\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name, initialState = options.initialState;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    var reducers = options.reducers || {};\r\n    var _b = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _c = _b[0], extraReducers = _c === void 0 ? {} : _c, _d = _b[1], actionMatchers = _d === void 0 ? [] : _d, _e = _b[2], defaultCaseReducer = _e === void 0 ? void 0 : _e;\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n    var reducer = createReducer(initialState, finalCaseReducers, actionMatchers, defaultCaseReducer);\r\n    return {\r\n        name: name,\r\n        reducer: reducer,\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState2, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState2(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = state.ids.map(function (id) { return newKeys[id] || id; });\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _b = splitAddedUpdatedEntities(newEntities, selectId, state), added = _b[0], updated = _b[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _b = createUnsortedStateAdapter(selectId), removeOne = _b.removeOne, removeMany = _b.removeMany, removeAll = _b.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function takeUpdatedModel(models, update, state) {\r\n        if (!(update.id in state.entities)) {\r\n            return false;\r\n        }\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        delete state.entities[update.id];\r\n        models.push(updated);\r\n        return newKey !== update.id;\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var models = [];\r\n        updates.forEach(function (update) { return takeUpdatedModel(models, update, state); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _b = splitAddedUpdatedEntities(newEntities, selectId, state), added = _b[0], updated = _b[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _b = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _b.selectId, sortComparer = _b.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nfunction createAsyncThunk(typePrefix, payloadCreator, options) {\r\n    var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n        payload: payload,\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            requestStatus: \"fulfilled\"\r\n        })\r\n    }); });\r\n    var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n        payload: void 0,\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            requestStatus: \"pending\"\r\n        })\r\n    }); });\r\n    var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n        payload: payload,\r\n        error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            rejectedWithValue: !!payload,\r\n            requestStatus: \"rejected\",\r\n            aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n            condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n        })\r\n    }); });\r\n    var displayedWarning = false;\r\n    var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n        function class_1() {\r\n            this.signal = {\r\n                aborted: false,\r\n                addEventListener: function () {\r\n                },\r\n                dispatchEvent: function () {\r\n                    return false;\r\n                },\r\n                onabort: function () {\r\n                },\r\n                removeEventListener: function () {\r\n                }\r\n            };\r\n        }\r\n        class_1.prototype.abort = function () {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (!displayedWarning) {\r\n                    displayedWarning = true;\r\n                    console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                }\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n    function actionCreator(arg) {\r\n        return function (dispatch, getState, extra) {\r\n            var _a;\r\n            var requestId = ((_a = options == null ? void 0 : options.idGenerator) != null ? _a : nanoid)();\r\n            var abortController = new AC();\r\n            var abortReason;\r\n            var abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({ name: \"AbortError\", message: abortReason || \"Aborted\" }); }); });\r\n            var started = false;\r\n            function abort(reason) {\r\n                if (started) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n            }\r\n            var promise = function () {\r\n                return __async(this, null, function () {\r\n                    var _a2, finalAction, err_1, skipDispatch;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                _b.trys.push([0, 2, , 3]);\r\n                                if (options && options.condition && options.condition(arg, { getState: getState, extra: extra }) === false) {\r\n                                    throw {\r\n                                        name: \"ConditionError\",\r\n                                        message: \"Aborted due to condition callback returning false.\"\r\n                                    };\r\n                                }\r\n                                started = true;\r\n                                dispatch(pending(requestId, arg, (_a2 = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _a2.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                return [4 /*yield*/, Promise.race([\r\n                                        abortedPromise,\r\n                                        Promise.resolve(payloadCreator(arg, {\r\n                                            dispatch: dispatch,\r\n                                            getState: getState,\r\n                                            extra: extra,\r\n                                            requestId: requestId,\r\n                                            signal: abortController.signal,\r\n                                            rejectWithValue: function (value, meta) {\r\n                                                return new RejectWithValue(value, meta);\r\n                                            },\r\n                                            fulfillWithValue: function (value, meta) {\r\n                                                return new FulfillWithMeta(value, meta);\r\n                                            }\r\n                                        })).then(function (result) {\r\n                                            if (result instanceof RejectWithValue) {\r\n                                                throw result;\r\n                                            }\r\n                                            if (result instanceof FulfillWithMeta) {\r\n                                                return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                            }\r\n                                            return fulfilled(result, requestId, arg);\r\n                                        })\r\n                                    ])];\r\n                            case 1:\r\n                                finalAction = _b.sent();\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                err_1 = _b.sent();\r\n                                finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                return [3 /*break*/, 3];\r\n                            case 3:\r\n                                skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                if (!skipDispatch) {\r\n                                    dispatch(finalAction);\r\n                                }\r\n                                return [2 /*return*/, finalAction];\r\n                        }\r\n                    });\r\n                });\r\n            }();\r\n            return Object.assign(promise, {\r\n                abort: abort,\r\n                requestId: requestId,\r\n                arg: arg,\r\n                unwrap: function () {\r\n                    return promise.then(unwrapResult);\r\n                }\r\n            });\r\n        };\r\n    }\r\n    return Object.assign(actionCreator, {\r\n        pending: pending,\r\n        rejected: rejected,\r\n        fulfilled: fulfilled,\r\n        typePrefix: typePrefix\r\n    });\r\n}\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/index.ts\r\nenableES5();\r\nexport { MiddlewareArray, configureStore, createAction, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","export type ValueOf<T> = T[keyof T];\n\nexport type NewType<T, NewTypeName> = T & {\n  /**\n   * This is not available at runtime\n   */\n  readonly __COMPILETIME_TYPE__: NewTypeName\n};\n\nexport const keys = <O>(o: O): (keyof O)[] => {\n  return Object.keys(o) as (keyof O)[];\n};\n\nexport const values = <O>(o: O): (ValueOf<O>)[] => {\n  return Object.values(o) as (ValueOf<O>)[];\n};\n\nexport const entries = <O>(o: O): ([keyof O, ValueOf<O>])[] => {\n  return Object.entries(o) as ([keyof O, ValueOf<O>])[];\n};","import { UserRole } from '../models';\n\nexport function isAllowedToBecomeHost(role: UserRole): boolean {\n    switch(role.toLowerCase()){\n        case 'teacher':\n            return true;\n        default:\n            return false;\n    }\n}","import { CaseReducer, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { WritableDraft } from 'immer/dist/internal';\nimport { ContentType, ClassState, UserID, Content, ChatMessageState, DeviceID, ActivityStreamID, DeviceState, Trophy, UserRole, Timestamp } from '../models';\nimport { ValueOf, values } from '../types';\nimport { isAllowedToBecomeHost } from './authorization';\n\ntype Reducer<P = void, T extends string = string> = CaseReducer<ClassState, PayloadAction<P, T>>;\n\nexport const INITIAL_ROOM_STATE: ClassState = {\n  users: {},\n  devices: {},\n  chatMessages: [],\n  content: {\n    type: ContentType.Blank,\n  },\n  hostDeviceId: undefined,\n  classEndTime: undefined,\n};\n\nconst join: Reducer<{state: ClassState, deviceId: DeviceID}> = (_state, action) => action.payload.state;\n\nconst endClass: Reducer<{ timestamp: Timestamp }> = (state, action) => {\n  state.classEndTime = action.payload.timestamp;\n};\n\nconst deviceConnect: Reducer<{name: string, device: DeviceState, role: UserRole}> = (\n  state,\n  action\n) => {\n  const { name, device, role } = action.payload;\n  //Device\n  state.devices[device.id] = device;\n  //User\n  const userId = device.userId;\n  const user = state.users[userId]\n  if(user) {\n    user.deviceIds.push(device.id);\n  } else {\n    state.users[userId] = {\n      id: userId,\n      name,\n      role,\n      deviceIds: [device.id],\n      trophies: [],\n    };\n  }\n  if(!state.hostDeviceId && isAllowedToBecomeHost(role)) {\n    state.hostDeviceId = device.id;\n  }\n\n};\n\nconst deviceDisconnect: Reducer<{deviceId: DeviceID}> = (\n  state,\n  action\n) => {\n  const { deviceId } = action.payload;\n  const device = state.devices[deviceId] as WritableDraft<DeviceState> | undefined;\n  delete state.devices[deviceId];\n  if(!device) { return; }\n\n  if(state.hostDeviceId === device.id) {\n    state.hostDeviceId = undefined;\n    const userIds = Object.keys(state.users) as UserID[];\n    // userIds.sort(); sort may be unecessary\n    // It ensures deterministic evaluation on all clients, regardless of the keys array ordering\n    // Which could be affected by serialization and deserialization during network messages\n    userIds.sort();\n    for(const userId of userIds) {\n      const user = state.users[userId];\n      if(!user) { continue }\n      const deviceId = user.deviceIds[0]\n      if(!deviceId) {continue }\n      if(isAllowedToBecomeHost(user.role)) {\n        state.hostDeviceId = deviceId;\n        break;\n      }\n    }\n  }\n};\n\nconst setHost: Reducer<DeviceID> = (state, action) => {\n  state.hostDeviceId = action.payload;\n};\n\nconst setContent: Reducer<Content> = (state, action) => {\n  state.content = action.payload;\n};\n\nconst addChatMessage: Reducer<ChatMessageState> = (\n  state,\n  action\n) => {\n  const chatMessage = action.payload;\n  state.chatMessages.push(chatMessage);\n};\n\nconst setActivityStreamId: Reducer<{deviceId: DeviceID, activityStreamId: ActivityStreamID}> = (\n  state,\n  action\n) => {\n  const { deviceId, activityStreamId } = action.payload;\n  const device = state.devices[deviceId]\n  if(!device) { return } \n  device.activityStreamID = activityStreamId;\n};\n\nconst rewardTrophyToUser: Reducer<{userId: UserID, trophy: Trophy}> = (\n  state,\n  action\n) => {\n  const { userId, trophy } = action.payload;\n  state.users[userId]?.trophies.push(trophy);\n};\n\nconst rewardTrophyToAll: Reducer<{trophy: Trophy}> = (\n  state,\n  action\n) => {\n  const { trophy } = action.payload;\n  values(state.users).forEach(user => user.trophies.push(trophy))\n};\n\n\nexport const classSliceActionPrefix = \"class\"\nexport const classSlice = createSlice({\n  name: classSliceActionPrefix,\n  initialState: INITIAL_ROOM_STATE,\n  reducers: {\n    join,\n    endClass,\n    deviceConnect,\n    deviceDisconnect, \n    setHost,\n    setContent,\n    addChatMessage,\n    setActivityStreamId,\n    rewardTrophyToUser,\n    rewardTrophyToAll,\n  },\n});\n\nexport const classReducer = classSlice.reducer;\nexport const classActions = classSlice.actions;\nexport type ClassActionType = keyof typeof classActions \nexport type ClassAction = ReturnType<ValueOf<typeof classActions>>\n\nexport type ClassActionTypeToPayload = {\n  [K in keyof typeof classActions]: ReturnType<typeof classActions[K]>[\"payload\"]; \n}","import { IChatMessage, IClassState, IContent, IDevice, ITrophy, IUser } from '.';\nimport { Content, ContentType, newDeviceId, DeviceState, Trophy, TrophyType, newUserId, newWebRtcStreamId, newActivityStreamId, newTimestamp, ChatMessageState, ClassState, DeviceID, UserState, newUserRole, UserID } from '../models';\nimport { values } from '../types';\n\n\nexport function validateChatMessage({text,timestamp,userId}: IChatMessage): ChatMessageState | undefined {\n    if(!text) { console.error('IChatMessage is missing text'); return; }\n    if(!timestamp) { console.error('IChatMessage is missing timestamp'); return; }\n    if(!userId) { console.error('IChatMessage is missing userId'); return; }\n\n    return {\n        userId: newUserId(userId),\n        timestamp: newTimestamp(timestamp),\n        text,\n    };\n}\n\nexport function validateContentType(content: string): ContentType | undefined {\n    // In the case that string is not a member of the enum,\n    // this function will return undefined\n    // Due to casting content to 'as keyof typeof ContentType'\n    // the contentType variable has been explicitly defined as Optional\n    const contentType: ContentType | undefined = ContentType[content as keyof typeof ContentType];\n    return contentType;\n}\n\nexport function validateContent(content: IContent): Content | undefined {\n    if (!content.type) { console.error('IContent is missing type'); return; }\n    if (!content.contentLocation) { console.error('IContent is missing type'); return; }\n\n    const type = validateContentType(content.type);\n    if(!type) { console.error(`IContent has an invalid type '${content.type}'`); return; }\n    const contentLocation = content.contentLocation;\n    return { type, contentLocation };\n}\n\n/**\n * This function attempts to return a valid ClassState\n * In the case that it recieves an invalid state it prints an error describing the error\n * and then attempts to let provide a sensible default to allow the user to proceed despite the malformed state message\n * \n * @param classState \n * @returns \n */\nexport function validateState(classState: IClassState): ClassState | undefined {\n    \n    const chatMessages: ChatMessageState[] = []\n    if(classState.chatMessages) {\n        classState.chatMessages.forEach((m) => {\n            const validChatMessage = validateChatMessage(m);\n            if(!validChatMessage) { console.error(`IClassState has an invalid chatMessage`); return; }\n            chatMessages.push(validChatMessage)\n        })\n    } else {\n        console.error(`IClassState is missing chatMessages`);\n    }\n\n    let content = { type: ContentType.Blank }\n    if(classState.content) {\n        const validContent = validateContent(classState.content) \n        if(validContent) {\n            content = validContent \n        } else {\n            console.error(`IClassState has an invalid content`);\n        }\n    } else {\n        console.error(`IClassState is missing content`);\n    }\n\n    const devices: Record<DeviceID, DeviceState> = {}\n    if (classState.devices) {\n        Object.values(classState.devices).forEach((device) => {\n            const validatedDevice = validateDevice(device)\n            if(!validatedDevice) { console.error(`IClassState has invalid device`); return; }\n            devices[validatedDevice.id] = validatedDevice\n        });\n    } else {\n        console.error('IClassState is missing devices');\n    }\n\n\n    const users: Record<UserID, UserState> = {}\n    if (classState.users) {\n        Object.values(classState.users).forEach((user) => {\n            const validUser = validateUser(user)\n            if(!validUser) { console.error(`IClassState has invalid user`); return; }\n            const priorDeviceCount = validUser.deviceIds.length\n            validUser.deviceIds = validUser.deviceIds.filter((deviceId) => (deviceId in devices))\n            if(validUser.deviceIds.length !== priorDeviceCount) { console.error(\"Removed unknown DeviceID from IUser\"); }\n            users[validUser.id] = validUser \n        });\n    } else {\n        console.error('IClassState is missing users');\n    }\n\n\n    for(const device of values(devices)) {\n        if(!users.hasOwnProperty(device.userId)) {\n            console.error(`Device(${device.id}) references unknown User(${device.userId})`)\n        }\n    }\n    \n    return {\n         chatMessages,\n         content,\n         devices,\n         users,\n         classEndTime: classState.classEndedTime ? newTimestamp(classState.classEndedTime) : undefined,\n         hostDeviceId: classState.hostDeviceId ? newDeviceId(classState.hostDeviceId) : undefined,\n    };\n}\n\nexport function validateUser(user: IUser): UserState | undefined {\n    if(!user.id) { console.error('IUser is missing id'); return; }\n    if(!user.deviceIds) { console.error('IUser is missing deviceIds'); return; }\n    if(!user.name) { console.error('IUser is missing name'); return; }\n    if(!user.role) { console.error('IUser is missing role'); return; }\n\n    const trophies: Trophy[] = []\n    for(const trophy of trophies) {\n        const validTrophy = validateTrophy(trophy)\n        if(validTrophy) { trophies.push(validTrophy) }\n    }\n\n    return {\n        id: newUserId(user.id),\n        deviceIds: user.deviceIds.map((id) => newDeviceId(id)),\n        name: user.name,\n        role: newUserRole(user.role),\n        trophies,\n    };\n}\n\nexport function validateDevice({id, activityStreamId, userId, webRtcStreamIds}: IDevice): DeviceState | undefined {\n    if(!id) { console.error('IDevice is missing id'); return; }\n    if(!userId) { console.error('IDevice is missing userId'); return; }\n    return {\n        id: newDeviceId(id),\n        userId: newUserId(userId),\n        activityStreamID: activityStreamId ? newActivityStreamId(activityStreamId) : undefined,\n        webRTCStreamIDs: webRtcStreamIds?.map((id) => newWebRtcStreamId(id)) || []\n    };\n}\n\nexport function validateTrophy(trophy: ITrophy): Trophy | undefined {\n    if (!trophy.timestamp) { console.error('ITrophy is missing trophy.timestamp'); return; }\n    if (!trophy.type) { console.error('ITrophy is missing trophy.type'); return; }\n    //TODO: Handle uint64\n    const timestamp = trophy.timestamp;\n    const type = trophy.type as TrophyType;\n    return { timestamp, type };\n}\n\n","import { IActivityStreamIdChangedEvent, IClassEndedEvent, IClassMessage, IContentChangedEvent, IDeviceConnectedEvent, IDeviceDisconnectedEvent, IHostChangedEvent, INewChatMessageEvent, ISetClassStateEvent, ITrophyRewardedToAllEvent, ITrophyRewardedToUserEvent } from '.';\nimport { newActivityStreamId, newDeviceId, newTimestamp, newUserId, newUserRole } from '../models';\nimport { ClassAction, classActions } from '../redux/class';\nimport { validateChatMessage, validateContent, validateDevice, validateState, validateTrophy } from './state';\n\n\nexport function messageToClassAction(message: IClassMessage): ClassAction | undefined {\n    if(message.actvityStreamIdChanged) {\n        return actvityStreamIdChangedAction(message.actvityStreamIdChanged);\n    }\n    if(message.classEnded) {\n        return classEndedAction(message.classEnded);\n    }\n    if(message.contentChanged) {\n        return contentChangedAction(message.contentChanged);\n    }\n    if(message.deviceConnected) {\n        return deviceConnectedAction(message.deviceConnected);\n    }\n    if(message.deviceDisconnected) {\n        return deviceDisconnectedAction(message.deviceDisconnected);\n    }\n    if(message.hostChanged) {\n        return hostChangedAction(message.hostChanged);\n    }\n    if(message.newChatMessage) {\n        return newChatMessageAction(message.newChatMessage);\n    }\n    if(message.joinEvent) {\n        return joinAction(message.joinEvent);\n    }\n    if(message.trophyRewardedToAll) {\n        return trophyRewardedToAllAction(message.trophyRewardedToAll);\n    }\n    if(message.trophyRewardedToUser) {\n        return trophyRewardedToUserAction(message.trophyRewardedToUser);\n    }\n    return undefined;\n}\n\nexport function actvityStreamIdChangedAction(event: IActivityStreamIdChangedEvent): ReturnType<typeof classActions.setActivityStreamId> | undefined {\n    if(!event.deviceId) { console.error('IActivityStreamIdChangedEvent missing deviceId'); return; }\n    if(!event.activityStreamId) { console.error('IActivityStreamIdChangedEvent missing activityStreamId'); return; }\n    \n    return classActions.setActivityStreamId({\n        deviceId: newDeviceId(event.deviceId),\n        activityStreamId: newActivityStreamId(event.activityStreamId),\n    });    \n}\n\nexport function classEndedAction(event: IClassEndedEvent): ReturnType<typeof classActions.endClass> | undefined {\n    if(!event.timestamp) { console.error('IClassEndedEvent is missing timestamp'); return; }\n    const timestamp = newTimestamp(event.timestamp)\n    return classActions.endClass({timestamp});\n}\n\nexport function contentChangedAction(event: IContentChangedEvent): ReturnType<typeof classActions.setContent> | undefined {\n    if(!event.content) { console.error('IContentChangedEvent is missing content'); return; }\n    \n    const content = validateContent(event.content);\n    if(!content) { return; }\n\n    return classActions.setContent(content);    \n}\n\nexport function deviceConnectedAction(event: IDeviceConnectedEvent): ReturnType<typeof classActions.deviceConnect> | undefined {\n    if(!event.name) { console.error('IDeviceConnectedEvent is missing name'); return; }\n    if(!event.role) { console.error('IDeviceConnectedEvent is missing role'); return; }\n    if(!event.device) { console.error('IDeviceConnectedEvent is missing device'); return; }\n    \n    const device = validateDevice(event.device);\n    if(!device) { return; }\n\n    return classActions.deviceConnect({\n        name: event.name,\n        role: newUserRole(event.role),\n        device,\n    });\n}\n\nexport function deviceDisconnectedAction({deviceId}: IDeviceDisconnectedEvent): ReturnType<typeof classActions.deviceDisconnect> | undefined {\n    if(!deviceId) { console.error('IDeviceDisconnectedEvent is missing deviceId'); return; }\n\n    return classActions.deviceDisconnect({\n        deviceId: newDeviceId(deviceId),\n    });    \n}\n\nexport function hostChangedAction(event: IHostChangedEvent): ReturnType<typeof classActions.setHost> | undefined {\n    if(!event.hostDeviceId) { console.error('IHostChangedEvent is missing hostDeviceId'); return; }\n\n    const hostDeviceId = newDeviceId(event.hostDeviceId);\n\n    return classActions.setHost(hostDeviceId);\n}\n\nexport function newChatMessageAction(event: INewChatMessageEvent): ReturnType<typeof classActions.addChatMessage> | undefined {\n    if(!event.chatMessage) { console.error('INewChatMessageEvent is missing chatMessage'); return; }\n\n    const chatMessage = validateChatMessage(event.chatMessage);\n    if(!chatMessage) { return; }\n\n    return classActions.addChatMessage(chatMessage);    \n}\n\nexport function joinAction(event: ISetClassStateEvent): ReturnType<typeof classActions.join> | undefined {\n    if(!event.state) { console.error('ISetClassStateEvent is missing state'); return; }\n    if(!event.deviceId) { console.error('ISetClassStateEvent is missing deviceId'); return; }\n    const state = validateState(event.state);\n    if(!state) { return; }\n    return classActions.join({\n        state,\n        deviceId: newDeviceId(event.deviceId),\n    });\n}\n\nexport function trophyRewardedToAllAction(event: ITrophyRewardedToAllEvent): ReturnType<typeof classActions.rewardTrophyToAll> | undefined {\n    if(!event.trophy) { console.error('ITrophyRewardedToAllEvent is missing trophy'); return; }\n\n    const trophy = validateTrophy(event.trophy);\n    if(!trophy) { return; }\n\n    return classActions.rewardTrophyToAll({ trophy });\n}\n\nexport function trophyRewardedToUserAction(event: ITrophyRewardedToUserEvent): ReturnType<typeof classActions.rewardTrophyToUser> | undefined {\n    if(!event.userId) { console.error('ITrophyRewardedToAllEvent is missing userId'); return; }\n    if(!event.trophy) { console.error('ITrophyRewardedToAllEvent is missing trophy'); return; }\n    \n    const trophy = validateTrophy(event.trophy);\n    if(!trophy) { return; }\n\n    return classActions.rewardTrophyToUser({\n        userId: newUserId(event.userId),\n        trophy,\n    });\n}","import { useLayoutEffect, useEffect, useRef, useState, useCallback } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// A type of promise-like that resolves synchronously and supports only one observer\n\nconst _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\nconst _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously await a promise and pass the result to a finally continuation\nfunction _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, value);\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect; // Assign current value to a ref and returns a stable getter to get the latest value.\n// This way we are sure to always get latest value provided to hook and\n// avoid weird issues due to closures capturing stale values...\n// See https://github.com/facebook/react/issues/16956\n// See https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n\nvar useGetter = function useGetter(t) {\n  var ref = useRef(t);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = t;\n  });\n  return useCallback(function () {\n    return ref.current;\n  }, [ref]);\n};\n\nvar InitialAsyncState = {\n  status: 'not-requested',\n  loading: false,\n  result: undefined,\n  error: undefined\n};\nvar InitialAsyncLoadingState = {\n  status: 'loading',\n  loading: true,\n  result: undefined,\n  error: undefined\n};\n\nvar defaultSetLoading = function defaultSetLoading(_asyncState) {\n  return InitialAsyncLoadingState;\n};\n\nvar defaultSetResult = function defaultSetResult(result, _asyncState) {\n  return {\n    status: 'success',\n    loading: false,\n    result: result,\n    error: undefined\n  };\n};\n\nvar defaultSetError = function defaultSetError(error, _asyncState) {\n  return {\n    status: 'error',\n    loading: false,\n    result: undefined,\n    error: error\n  };\n};\n\nvar noop = function noop() {};\n\nvar DefaultOptions = {\n  initialState: function initialState(options) {\n    return options && options.executeOnMount ? InitialAsyncLoadingState : InitialAsyncState;\n  },\n  executeOnMount: true,\n  executeOnUpdate: true,\n  setLoading: defaultSetLoading,\n  setResult: defaultSetResult,\n  setError: defaultSetError,\n  onSuccess: noop,\n  onError: noop\n};\n\nvar normalizeOptions = function normalizeOptions(options) {\n  return _extends({}, DefaultOptions, {}, options);\n};\n\nvar useAsyncState = function useAsyncState(options) {\n  var _useState = useState(function () {\n    return options.initialState(options);\n  }),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var reset = useCallback(function () {\n    return setValue(options.initialState(options));\n  }, [setValue, options]);\n  var setLoading = useCallback(function () {\n    return setValue(options.setLoading(value));\n  }, [value, setValue]);\n  var setResult = useCallback(function (result) {\n    return setValue(options.setResult(result, value));\n  }, [value, setValue]);\n  var setError = useCallback(function (error) {\n    return setValue(options.setError(error, value));\n  }, [value, setValue]);\n  var merge = useCallback(function (state) {\n    return setValue(_extends({}, value, {}, state));\n  }, [value, setValue]);\n  return {\n    value: value,\n    set: setValue,\n    merge: merge,\n    reset: reset,\n    setLoading: setLoading,\n    setResult: setResult,\n    setError: setError\n  };\n};\n\nvar useIsMounted = function useIsMounted() {\n  var ref = useRef(false);\n  useEffect(function () {\n    ref.current = true;\n    return function () {\n      ref.current = false;\n    };\n  }, []);\n  return function () {\n    return ref.current;\n  };\n};\n\nvar useCurrentPromise = function useCurrentPromise() {\n  var ref = useRef(null);\n  return {\n    set: function set(promise) {\n      return ref.current = promise;\n    },\n    get: function get() {\n      return ref.current;\n    },\n    is: function is(promise) {\n      return ref.current === promise;\n    }\n  };\n}; // Relaxed interface which accept both async and sync functions\n// Accepting sync function is convenient for useAsyncCallback\n\n\nvar useAsyncInternal = function useAsyncInternal(asyncFunction, params, options) {\n  // Fallback missing params, only for JS users forgetting the deps array, to prevent infinite loops\n  // https://github.com/slorber/react-async-hook/issues/27\n  // @ts-ignore\n  !params && (params = []);\n  var normalizedOptions = normalizeOptions(options);\n\n  var _useState2 = useState(null),\n      currentParams = _useState2[0],\n      setCurrentParams = _useState2[1];\n\n  var AsyncState = useAsyncState(normalizedOptions);\n  var isMounted = useIsMounted();\n  var CurrentPromise = useCurrentPromise(); // We only want to handle the promise result/error\n  // if it is the last operation and the comp is still mounted\n\n  var shouldHandlePromise = function shouldHandlePromise(p) {\n    return isMounted() && CurrentPromise.is(p);\n  };\n\n  var executeAsyncOperation = function executeAsyncOperation() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // async ensures errors thrown synchronously are caught (ie, bug when formatting api payloads)\n    // async ensures promise-like and synchronous functions are handled correctly too\n    // see https://github.com/slorber/react-async-hook/issues/24\n    var promise = function () {\n      try {\n        return Promise.resolve(asyncFunction.apply(void 0, args));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }();\n\n    setCurrentParams(args);\n    CurrentPromise.set(promise);\n    AsyncState.setLoading();\n    promise.then(function (result) {\n      if (shouldHandlePromise(promise)) {\n        AsyncState.setResult(result);\n      }\n\n      normalizedOptions.onSuccess(result, {\n        isCurrent: function isCurrent() {\n          return CurrentPromise.is(promise);\n        }\n      });\n    }, function (error) {\n      if (shouldHandlePromise(promise)) {\n        AsyncState.setError(error);\n      }\n\n      normalizedOptions.onError(error, {\n        isCurrent: function isCurrent() {\n          return CurrentPromise.is(promise);\n        }\n      });\n    });\n    return promise;\n  };\n\n  var getLatestExecuteAsyncOperation = useGetter(executeAsyncOperation);\n  var executeAsyncOperationMemo = useCallback(function () {\n    return getLatestExecuteAsyncOperation().apply(void 0, arguments);\n  }, [getLatestExecuteAsyncOperation]); // Keep this outside useEffect, because inside isMounted()\n  // will be true as the component is already mounted when it's run\n\n  var isMounting = !isMounted();\n  useEffect(function () {\n    var execute = function execute() {\n      return getLatestExecuteAsyncOperation().apply(void 0, params);\n    };\n\n    isMounting && normalizedOptions.executeOnMount && execute();\n    !isMounting && normalizedOptions.executeOnUpdate && execute();\n  }, params);\n  return _extends({}, AsyncState.value, {\n    set: AsyncState.set,\n    merge: AsyncState.merge,\n    reset: AsyncState.reset,\n    execute: executeAsyncOperationMemo,\n    currentPromise: CurrentPromise.get(),\n    currentParams: currentParams\n  });\n};\n\nfunction useAsync(asyncFunction, params, options) {\n  return useAsyncInternal(asyncFunction, params, options);\n}\nvar useAsyncAbortable = function useAsyncAbortable(asyncFunction, params, options) {\n  var abortControllerRef = useRef(); // Wrap the original async function and enhance it with abortion login\n\n  var asyncFunctionWrapper = function asyncFunctionWrapper() {\n    for (var _len2 = arguments.length, p = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      p[_key2] = arguments[_key2];\n    }\n\n    try {\n      // Cancel previous async call\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      } // Create/store new abort controller for next async call\n\n\n      var abortController = new AbortController();\n      abortControllerRef.current = abortController;\n      return Promise.resolve(_finallyRethrows(function () {\n        // @ts-ignore // TODO how to type this?\n        return Promise.resolve(asyncFunction.apply(void 0, [abortController.signal].concat(p)));\n      }, function (_wasThrown, _result) {\n        // Unset abortController ref if response is already there,\n        // as it's not needed anymore to try to abort it (would it be no-op?)\n        if (abortControllerRef.current === abortController) {\n          abortControllerRef.current = undefined;\n        }\n\n        if (_wasThrown) throw _result;\n        return _result;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return useAsync(asyncFunctionWrapper, params, options);\n};\nvar useAsyncCallback = function useAsyncCallback(asyncFunction, options) {\n  return useAsyncInternal(asyncFunction, // Hacky but in such case we don't need the params,\n  // because async function is only executed manually\n  [], _extends({}, options, {\n    executeOnMount: false,\n    executeOnUpdate: false\n  }));\n};\n\nexport { useAsync, useAsyncAbortable, useAsyncCallback };\n//# sourceMappingURL=react-async-hook.esm.js.map\n","import React from 'react';\nimport { Network } from '../network';\n\nexport const NetworkContext = React.createContext<Network<unknown>>(null as any);\nNetworkContext.displayName = 'KidsloopLiveNetwork';\n\nexport default NetworkContext;\n","import { useContext } from \"react\";\nimport { useAsyncCallback } from \"react-async-hook\";\nimport { ActivityStreamID, Content, DeviceID, TrophyType, UserID } from \"../../models\";\nimport { IClassRequest } from \"../../protobuf\";\nimport NetworkContext from \"../context\";\n\nexport function useJoinClass() {\n  const network = useContext(NetworkContext);\n  const initWs = (url: string) => network.initWs(url);\n  const { execute: joinClass, status } = useAsyncCallback(initWs, {\n    onError: (e) => console.error(e),\n  });\n  return { joinClass, status };\n}\n\nexport function useLeaveClass() {\n  const network = useContext(NetworkContext);\n  const close = (reason?: string) => network.close(4200, reason);\n  const { execute: leaveClass, status } = useAsyncCallback(close);\n  return { leaveClass, status };\n}\n\nexport function useEndClass() {\n  const { execute, status } = useNetworkAction(() => ({ endClass: {} }));\n  return { endClass: execute, status };\n}\n\nexport function useRewardTrophyToAll() {\n  const { execute, status } = useNetworkAction((type: TrophyType) => ({\n    rewardTrophyToAll: {\n      trophy: {\n        // TODO: Should this be set by the server?\n        timestamp: Date.now(),\n        type,\n      },\n    },\n  }));\n  return { rewardTrophyToAll: execute, status };\n}\n\nexport function useRewardTrophyToUser() {\n  const { execute, status } = useNetworkAction(\n    (userId: UserID, type: TrophyType) => ({\n      rewardTrophyToUser: {\n        userId,\n        trophy: {\n          // TODO: Should this be set by the server?\n          timestamp: Date.now(),\n          type,\n        },\n      },\n    })\n  );\n  return { rewardTrophyToUser: execute, status };\n}\n\nexport function useSendChatMessage() {\n  const { execute, status } = useNetworkAction((text: string) => ({\n    sendChatMessage: {\n      text,\n    },\n  }));\n  return { sendChatMessage: execute, status };\n}\n\nexport function useSetActvityStreamId() {\n  const { execute, status } = useNetworkAction(\n    (activityStreamId: ActivityStreamID) => ({\n      setActvityStreamId: {\n        activityStreamId,\n      },\n    })\n  );\n  return { setActvityStreamId: execute, status };\n}\n\nexport function useSetContent() {\n  const { execute, status } = useNetworkAction((content: Content) => ({\n    setContent: {\n      content,\n    },\n  }));\n  return { setContent: execute, status };\n}\n\nexport function useSetHost() {\n  const { execute, status } = useNetworkAction((hostDeviceId: DeviceID) => ({\n    setHost: { hostDeviceId },\n  }));\n  return { setHost: execute, status };\n}\n\nfunction useNetworkAction<Args extends any[] = any[]>(\n  buildRequest: (...args: Args) => IClassRequest\n) {\n  const network = useContext(NetworkContext);\n  const sendRequest = async (...args: Args) => {\n    const request = buildRequest(...args);\n    network.send(request);\n  };\n  return useAsyncCallback(sendRequest);\n}\n","import { useContext } from 'react';\nimport NetworkContext from '../context';\nimport { useSelector } from 'react-redux';\nimport { State } from '../../redux/reducer';\n\nexport function useNetworkState<T=unknown>(selector: (state: State) => T) {\n  const network = useContext(NetworkContext);\n  return useSelector((state) => selector(network.selector(state)))\n}","import { useContext, useEffect } from 'react';\nimport { ClassActionType, ClassActionTypeToPayload, NetworkContext, State } from '../../ui';\n\n\nexport type NetworkHandlerCallback<T extends ClassActionType> = (payload: ClassActionTypeToPayload[T], state: State) => unknown\n\nexport function useNetworkHandler<T extends ClassActionType = ClassActionType>(\n        actionType: T,\n        callback: NetworkHandlerCallback<T>,\n    ) {\n\n    const network = useContext(NetworkContext);\n    // TODO: How to accomodate additional Action types, other than ClassAction\n    useEffect(() => network.onClassAction(actionType, callback), [network])\n  }\n  ","import { urlAlphabet } from './url-alphabet/index.js'\nif (false) {\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, size, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * size) / alphabet.length)\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n","\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;\n\n    Object.defineProperty(CustomError.prototype, \"name\", { get: function() { return name; } });\n\n    CustomError.prototype.toString = function toString() {\n        return this.name + \": \" + this.message;\n    };\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n","\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n","\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n","\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\n        ? new this.buf.constructor(0)\n        : this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n","\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n","\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n","\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n","\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available accross modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n","\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n","// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n","/*eslint-disable block-scoped-var, id-length, no-control-regex, no-magic-numbers, no-prototype-builtins, no-redeclare, no-shadow, no-var, sort-vars*/\n\"use strict\";\n\nvar $protobuf = require(\"protobufjs/minimal\");\n\n// Common aliases\nvar $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nvar $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\n$root.ClassRequest = (function() {\n\n    /**\n     * Properties of a ClassRequest.\n     * @exports IClassRequest\n     * @interface IClassRequest\n     * @property {string|null} [requestId] ClassRequest requestId\n     * @property {IEndClassCommand|null} [endClass] ClassRequest endClass\n     * @property {ISetHostCommand|null} [setHost] ClassRequest setHost\n     * @property {ISetContentCommand|null} [setContent] ClassRequest setContent\n     * @property {ISetActivityStreamIdCommand|null} [setActvityStreamId] ClassRequest setActvityStreamId\n     * @property {IRewardTrophyToUserCommand|null} [rewardTrophyToUser] ClassRequest rewardTrophyToUser\n     * @property {IRewardTrophyToAllCommand|null} [rewardTrophyToAll] ClassRequest rewardTrophyToAll\n     * @property {ISendChatMessageCommand|null} [sendChatMessage] ClassRequest sendChatMessage\n     */\n\n    /**\n     * Constructs a new ClassRequest.\n     * @exports ClassRequest\n     * @classdesc Represents a ClassRequest.\n     * @implements IClassRequest\n     * @constructor\n     * @param {IClassRequest=} [properties] Properties to set\n     */\n    function ClassRequest(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ClassRequest requestId.\n     * @member {string} requestId\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.requestId = \"\";\n\n    /**\n     * ClassRequest endClass.\n     * @member {IEndClassCommand|null|undefined} endClass\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.endClass = null;\n\n    /**\n     * ClassRequest setHost.\n     * @member {ISetHostCommand|null|undefined} setHost\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.setHost = null;\n\n    /**\n     * ClassRequest setContent.\n     * @member {ISetContentCommand|null|undefined} setContent\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.setContent = null;\n\n    /**\n     * ClassRequest setActvityStreamId.\n     * @member {ISetActivityStreamIdCommand|null|undefined} setActvityStreamId\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.setActvityStreamId = null;\n\n    /**\n     * ClassRequest rewardTrophyToUser.\n     * @member {IRewardTrophyToUserCommand|null|undefined} rewardTrophyToUser\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.rewardTrophyToUser = null;\n\n    /**\n     * ClassRequest rewardTrophyToAll.\n     * @member {IRewardTrophyToAllCommand|null|undefined} rewardTrophyToAll\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.rewardTrophyToAll = null;\n\n    /**\n     * ClassRequest sendChatMessage.\n     * @member {ISendChatMessageCommand|null|undefined} sendChatMessage\n     * @memberof ClassRequest\n     * @instance\n     */\n    ClassRequest.prototype.sendChatMessage = null;\n\n    // OneOf field names bound to virtual getters and setters\n    var $oneOfFields;\n\n    /**\n     * ClassRequest command.\n     * @member {\"endClass\"|\"setHost\"|\"setContent\"|\"setActvityStreamId\"|\"rewardTrophyToUser\"|\"rewardTrophyToAll\"|\"sendChatMessage\"|undefined} command\n     * @memberof ClassRequest\n     * @instance\n     */\n    Object.defineProperty(ClassRequest.prototype, \"command\", {\n        get: $util.oneOfGetter($oneOfFields = [\"endClass\", \"setHost\", \"setContent\", \"setActvityStreamId\", \"rewardTrophyToUser\", \"rewardTrophyToAll\", \"sendChatMessage\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Creates a new ClassRequest instance using the specified properties.\n     * @function create\n     * @memberof ClassRequest\n     * @static\n     * @param {IClassRequest=} [properties] Properties to set\n     * @returns {ClassRequest} ClassRequest instance\n     */\n    ClassRequest.create = function create(properties) {\n        return new ClassRequest(properties);\n    };\n\n    /**\n     * Encodes the specified ClassRequest message. Does not implicitly {@link ClassRequest.verify|verify} messages.\n     * @function encode\n     * @memberof ClassRequest\n     * @static\n     * @param {IClassRequest} message ClassRequest message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassRequest.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.requestId != null && Object.hasOwnProperty.call(message, \"requestId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.requestId);\n        if (message.endClass != null && Object.hasOwnProperty.call(message, \"endClass\"))\n            $root.EndClassCommand.encode(message.endClass, writer.uint32(/* id 6, wireType 2 =*/50).fork()).ldelim();\n        if (message.setHost != null && Object.hasOwnProperty.call(message, \"setHost\"))\n            $root.SetHostCommand.encode(message.setHost, writer.uint32(/* id 7, wireType 2 =*/58).fork()).ldelim();\n        if (message.setContent != null && Object.hasOwnProperty.call(message, \"setContent\"))\n            $root.SetContentCommand.encode(message.setContent, writer.uint32(/* id 8, wireType 2 =*/66).fork()).ldelim();\n        if (message.setActvityStreamId != null && Object.hasOwnProperty.call(message, \"setActvityStreamId\"))\n            $root.SetActivityStreamIdCommand.encode(message.setActvityStreamId, writer.uint32(/* id 9, wireType 2 =*/74).fork()).ldelim();\n        if (message.rewardTrophyToUser != null && Object.hasOwnProperty.call(message, \"rewardTrophyToUser\"))\n            $root.RewardTrophyToUserCommand.encode(message.rewardTrophyToUser, writer.uint32(/* id 10, wireType 2 =*/82).fork()).ldelim();\n        if (message.rewardTrophyToAll != null && Object.hasOwnProperty.call(message, \"rewardTrophyToAll\"))\n            $root.RewardTrophyToAllCommand.encode(message.rewardTrophyToAll, writer.uint32(/* id 11, wireType 2 =*/90).fork()).ldelim();\n        if (message.sendChatMessage != null && Object.hasOwnProperty.call(message, \"sendChatMessage\"))\n            $root.SendChatMessageCommand.encode(message.sendChatMessage, writer.uint32(/* id 12, wireType 2 =*/98).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ClassRequest message, length delimited. Does not implicitly {@link ClassRequest.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ClassRequest\n     * @static\n     * @param {IClassRequest} message ClassRequest message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassRequest.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ClassRequest message from the specified reader or buffer.\n     * @function decode\n     * @memberof ClassRequest\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ClassRequest} ClassRequest\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassRequest.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ClassRequest();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.requestId = reader.string();\n                break;\n            case 6:\n                message.endClass = $root.EndClassCommand.decode(reader, reader.uint32());\n                break;\n            case 7:\n                message.setHost = $root.SetHostCommand.decode(reader, reader.uint32());\n                break;\n            case 8:\n                message.setContent = $root.SetContentCommand.decode(reader, reader.uint32());\n                break;\n            case 9:\n                message.setActvityStreamId = $root.SetActivityStreamIdCommand.decode(reader, reader.uint32());\n                break;\n            case 10:\n                message.rewardTrophyToUser = $root.RewardTrophyToUserCommand.decode(reader, reader.uint32());\n                break;\n            case 11:\n                message.rewardTrophyToAll = $root.RewardTrophyToAllCommand.decode(reader, reader.uint32());\n                break;\n            case 12:\n                message.sendChatMessage = $root.SendChatMessageCommand.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ClassRequest message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ClassRequest\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ClassRequest} ClassRequest\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassRequest.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ClassRequest message.\n     * @function verify\n     * @memberof ClassRequest\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ClassRequest.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        var properties = {};\n        if (message.requestId != null && message.hasOwnProperty(\"requestId\"))\n            if (!$util.isString(message.requestId))\n                return \"requestId: string expected\";\n        if (message.endClass != null && message.hasOwnProperty(\"endClass\")) {\n            properties.command = 1;\n            {\n                var error = $root.EndClassCommand.verify(message.endClass);\n                if (error)\n                    return \"endClass.\" + error;\n            }\n        }\n        if (message.setHost != null && message.hasOwnProperty(\"setHost\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.SetHostCommand.verify(message.setHost);\n                if (error)\n                    return \"setHost.\" + error;\n            }\n        }\n        if (message.setContent != null && message.hasOwnProperty(\"setContent\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.SetContentCommand.verify(message.setContent);\n                if (error)\n                    return \"setContent.\" + error;\n            }\n        }\n        if (message.setActvityStreamId != null && message.hasOwnProperty(\"setActvityStreamId\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.SetActivityStreamIdCommand.verify(message.setActvityStreamId);\n                if (error)\n                    return \"setActvityStreamId.\" + error;\n            }\n        }\n        if (message.rewardTrophyToUser != null && message.hasOwnProperty(\"rewardTrophyToUser\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.RewardTrophyToUserCommand.verify(message.rewardTrophyToUser);\n                if (error)\n                    return \"rewardTrophyToUser.\" + error;\n            }\n        }\n        if (message.rewardTrophyToAll != null && message.hasOwnProperty(\"rewardTrophyToAll\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.RewardTrophyToAllCommand.verify(message.rewardTrophyToAll);\n                if (error)\n                    return \"rewardTrophyToAll.\" + error;\n            }\n        }\n        if (message.sendChatMessage != null && message.hasOwnProperty(\"sendChatMessage\")) {\n            if (properties.command === 1)\n                return \"command: multiple values\";\n            properties.command = 1;\n            {\n                var error = $root.SendChatMessageCommand.verify(message.sendChatMessage);\n                if (error)\n                    return \"sendChatMessage.\" + error;\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Creates a ClassRequest message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ClassRequest\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ClassRequest} ClassRequest\n     */\n    ClassRequest.fromObject = function fromObject(object) {\n        if (object instanceof $root.ClassRequest)\n            return object;\n        var message = new $root.ClassRequest();\n        if (object.requestId != null)\n            message.requestId = String(object.requestId);\n        if (object.endClass != null) {\n            if (typeof object.endClass !== \"object\")\n                throw TypeError(\".ClassRequest.endClass: object expected\");\n            message.endClass = $root.EndClassCommand.fromObject(object.endClass);\n        }\n        if (object.setHost != null) {\n            if (typeof object.setHost !== \"object\")\n                throw TypeError(\".ClassRequest.setHost: object expected\");\n            message.setHost = $root.SetHostCommand.fromObject(object.setHost);\n        }\n        if (object.setContent != null) {\n            if (typeof object.setContent !== \"object\")\n                throw TypeError(\".ClassRequest.setContent: object expected\");\n            message.setContent = $root.SetContentCommand.fromObject(object.setContent);\n        }\n        if (object.setActvityStreamId != null) {\n            if (typeof object.setActvityStreamId !== \"object\")\n                throw TypeError(\".ClassRequest.setActvityStreamId: object expected\");\n            message.setActvityStreamId = $root.SetActivityStreamIdCommand.fromObject(object.setActvityStreamId);\n        }\n        if (object.rewardTrophyToUser != null) {\n            if (typeof object.rewardTrophyToUser !== \"object\")\n                throw TypeError(\".ClassRequest.rewardTrophyToUser: object expected\");\n            message.rewardTrophyToUser = $root.RewardTrophyToUserCommand.fromObject(object.rewardTrophyToUser);\n        }\n        if (object.rewardTrophyToAll != null) {\n            if (typeof object.rewardTrophyToAll !== \"object\")\n                throw TypeError(\".ClassRequest.rewardTrophyToAll: object expected\");\n            message.rewardTrophyToAll = $root.RewardTrophyToAllCommand.fromObject(object.rewardTrophyToAll);\n        }\n        if (object.sendChatMessage != null) {\n            if (typeof object.sendChatMessage !== \"object\")\n                throw TypeError(\".ClassRequest.sendChatMessage: object expected\");\n            message.sendChatMessage = $root.SendChatMessageCommand.fromObject(object.sendChatMessage);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ClassRequest message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ClassRequest\n     * @static\n     * @param {ClassRequest} message ClassRequest\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ClassRequest.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.requestId = \"\";\n        if (message.requestId != null && message.hasOwnProperty(\"requestId\"))\n            object.requestId = message.requestId;\n        if (message.endClass != null && message.hasOwnProperty(\"endClass\")) {\n            object.endClass = $root.EndClassCommand.toObject(message.endClass, options);\n            if (options.oneofs)\n                object.command = \"endClass\";\n        }\n        if (message.setHost != null && message.hasOwnProperty(\"setHost\")) {\n            object.setHost = $root.SetHostCommand.toObject(message.setHost, options);\n            if (options.oneofs)\n                object.command = \"setHost\";\n        }\n        if (message.setContent != null && message.hasOwnProperty(\"setContent\")) {\n            object.setContent = $root.SetContentCommand.toObject(message.setContent, options);\n            if (options.oneofs)\n                object.command = \"setContent\";\n        }\n        if (message.setActvityStreamId != null && message.hasOwnProperty(\"setActvityStreamId\")) {\n            object.setActvityStreamId = $root.SetActivityStreamIdCommand.toObject(message.setActvityStreamId, options);\n            if (options.oneofs)\n                object.command = \"setActvityStreamId\";\n        }\n        if (message.rewardTrophyToUser != null && message.hasOwnProperty(\"rewardTrophyToUser\")) {\n            object.rewardTrophyToUser = $root.RewardTrophyToUserCommand.toObject(message.rewardTrophyToUser, options);\n            if (options.oneofs)\n                object.command = \"rewardTrophyToUser\";\n        }\n        if (message.rewardTrophyToAll != null && message.hasOwnProperty(\"rewardTrophyToAll\")) {\n            object.rewardTrophyToAll = $root.RewardTrophyToAllCommand.toObject(message.rewardTrophyToAll, options);\n            if (options.oneofs)\n                object.command = \"rewardTrophyToAll\";\n        }\n        if (message.sendChatMessage != null && message.hasOwnProperty(\"sendChatMessage\")) {\n            object.sendChatMessage = $root.SendChatMessageCommand.toObject(message.sendChatMessage, options);\n            if (options.oneofs)\n                object.command = \"sendChatMessage\";\n        }\n        return object;\n    };\n\n    /**\n     * Converts this ClassRequest to JSON.\n     * @function toJSON\n     * @memberof ClassRequest\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ClassRequest.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ClassRequest;\n})();\n\n$root.ClassResponse = (function() {\n\n    /**\n     * Properties of a ClassResponse.\n     * @exports IClassResponse\n     * @interface IClassResponse\n     * @property {string|null} [id] ClassResponse id\n     * @property {string|null} [error] ClassResponse error\n     */\n\n    /**\n     * Constructs a new ClassResponse.\n     * @exports ClassResponse\n     * @classdesc Represents a ClassResponse.\n     * @implements IClassResponse\n     * @constructor\n     * @param {IClassResponse=} [properties] Properties to set\n     */\n    function ClassResponse(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ClassResponse id.\n     * @member {string} id\n     * @memberof ClassResponse\n     * @instance\n     */\n    ClassResponse.prototype.id = \"\";\n\n    /**\n     * ClassResponse error.\n     * @member {string} error\n     * @memberof ClassResponse\n     * @instance\n     */\n    ClassResponse.prototype.error = \"\";\n\n    /**\n     * Creates a new ClassResponse instance using the specified properties.\n     * @function create\n     * @memberof ClassResponse\n     * @static\n     * @param {IClassResponse=} [properties] Properties to set\n     * @returns {ClassResponse} ClassResponse instance\n     */\n    ClassResponse.create = function create(properties) {\n        return new ClassResponse(properties);\n    };\n\n    /**\n     * Encodes the specified ClassResponse message. Does not implicitly {@link ClassResponse.verify|verify} messages.\n     * @function encode\n     * @memberof ClassResponse\n     * @static\n     * @param {IClassResponse} message ClassResponse message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassResponse.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.id != null && Object.hasOwnProperty.call(message, \"id\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.id);\n        if (message.error != null && Object.hasOwnProperty.call(message, \"error\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.error);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ClassResponse message, length delimited. Does not implicitly {@link ClassResponse.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ClassResponse\n     * @static\n     * @param {IClassResponse} message ClassResponse message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassResponse.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ClassResponse message from the specified reader or buffer.\n     * @function decode\n     * @memberof ClassResponse\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ClassResponse} ClassResponse\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassResponse.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ClassResponse();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.id = reader.string();\n                break;\n            case 2:\n                message.error = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ClassResponse message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ClassResponse\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ClassResponse} ClassResponse\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassResponse.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ClassResponse message.\n     * @function verify\n     * @memberof ClassResponse\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ClassResponse.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            if (!$util.isString(message.id))\n                return \"id: string expected\";\n        if (message.error != null && message.hasOwnProperty(\"error\"))\n            if (!$util.isString(message.error))\n                return \"error: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a ClassResponse message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ClassResponse\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ClassResponse} ClassResponse\n     */\n    ClassResponse.fromObject = function fromObject(object) {\n        if (object instanceof $root.ClassResponse)\n            return object;\n        var message = new $root.ClassResponse();\n        if (object.id != null)\n            message.id = String(object.id);\n        if (object.error != null)\n            message.error = String(object.error);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ClassResponse message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ClassResponse\n     * @static\n     * @param {ClassResponse} message ClassResponse\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ClassResponse.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.id = \"\";\n            object.error = \"\";\n        }\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            object.id = message.id;\n        if (message.error != null && message.hasOwnProperty(\"error\"))\n            object.error = message.error;\n        return object;\n    };\n\n    /**\n     * Converts this ClassResponse to JSON.\n     * @function toJSON\n     * @memberof ClassResponse\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ClassResponse.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ClassResponse;\n})();\n\n$root.ClassMessage = (function() {\n\n    /**\n     * Properties of a ClassMessage.\n     * @exports IClassMessage\n     * @interface IClassMessage\n     * @property {IClassResponse|null} [response] ClassMessage response\n     * @property {IJoinEvent|null} [joinEvent] ClassMessage joinEvent\n     * @property {IDeviceConnectedEvent|null} [deviceConnected] ClassMessage deviceConnected\n     * @property {IDeviceDisconnectedEvent|null} [deviceDisconnected] ClassMessage deviceDisconnected\n     * @property {IClassEndedEvent|null} [classEnded] ClassMessage classEnded\n     * @property {IHostChangedEvent|null} [hostChanged] ClassMessage hostChanged\n     * @property {IContentChangedEvent|null} [contentChanged] ClassMessage contentChanged\n     * @property {IActivityStreamIdChangedEvent|null} [actvityStreamIdChanged] ClassMessage actvityStreamIdChanged\n     * @property {ITrophyRewardedToUserEvent|null} [trophyRewardedToUser] ClassMessage trophyRewardedToUser\n     * @property {ITrophyRewardedToAllEvent|null} [trophyRewardedToAll] ClassMessage trophyRewardedToAll\n     * @property {INewChatMessageEvent|null} [newChatMessage] ClassMessage newChatMessage\n     */\n\n    /**\n     * Constructs a new ClassMessage.\n     * @exports ClassMessage\n     * @classdesc Represents a ClassMessage.\n     * @implements IClassMessage\n     * @constructor\n     * @param {IClassMessage=} [properties] Properties to set\n     */\n    function ClassMessage(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ClassMessage response.\n     * @member {IClassResponse|null|undefined} response\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.response = null;\n\n    /**\n     * ClassMessage joinEvent.\n     * @member {IJoinEvent|null|undefined} joinEvent\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.joinEvent = null;\n\n    /**\n     * ClassMessage deviceConnected.\n     * @member {IDeviceConnectedEvent|null|undefined} deviceConnected\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.deviceConnected = null;\n\n    /**\n     * ClassMessage deviceDisconnected.\n     * @member {IDeviceDisconnectedEvent|null|undefined} deviceDisconnected\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.deviceDisconnected = null;\n\n    /**\n     * ClassMessage classEnded.\n     * @member {IClassEndedEvent|null|undefined} classEnded\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.classEnded = null;\n\n    /**\n     * ClassMessage hostChanged.\n     * @member {IHostChangedEvent|null|undefined} hostChanged\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.hostChanged = null;\n\n    /**\n     * ClassMessage contentChanged.\n     * @member {IContentChangedEvent|null|undefined} contentChanged\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.contentChanged = null;\n\n    /**\n     * ClassMessage actvityStreamIdChanged.\n     * @member {IActivityStreamIdChangedEvent|null|undefined} actvityStreamIdChanged\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.actvityStreamIdChanged = null;\n\n    /**\n     * ClassMessage trophyRewardedToUser.\n     * @member {ITrophyRewardedToUserEvent|null|undefined} trophyRewardedToUser\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.trophyRewardedToUser = null;\n\n    /**\n     * ClassMessage trophyRewardedToAll.\n     * @member {ITrophyRewardedToAllEvent|null|undefined} trophyRewardedToAll\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.trophyRewardedToAll = null;\n\n    /**\n     * ClassMessage newChatMessage.\n     * @member {INewChatMessageEvent|null|undefined} newChatMessage\n     * @memberof ClassMessage\n     * @instance\n     */\n    ClassMessage.prototype.newChatMessage = null;\n\n    // OneOf field names bound to virtual getters and setters\n    var $oneOfFields;\n\n    /**\n     * ClassMessage event.\n     * @member {\"joinEvent\"|\"deviceConnected\"|\"deviceDisconnected\"|\"classEnded\"|\"hostChanged\"|\"contentChanged\"|\"actvityStreamIdChanged\"|\"trophyRewardedToUser\"|\"trophyRewardedToAll\"|\"newChatMessage\"|undefined} event\n     * @memberof ClassMessage\n     * @instance\n     */\n    Object.defineProperty(ClassMessage.prototype, \"event\", {\n        get: $util.oneOfGetter($oneOfFields = [\"joinEvent\", \"deviceConnected\", \"deviceDisconnected\", \"classEnded\", \"hostChanged\", \"contentChanged\", \"actvityStreamIdChanged\", \"trophyRewardedToUser\", \"trophyRewardedToAll\", \"newChatMessage\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Creates a new ClassMessage instance using the specified properties.\n     * @function create\n     * @memberof ClassMessage\n     * @static\n     * @param {IClassMessage=} [properties] Properties to set\n     * @returns {ClassMessage} ClassMessage instance\n     */\n    ClassMessage.create = function create(properties) {\n        return new ClassMessage(properties);\n    };\n\n    /**\n     * Encodes the specified ClassMessage message. Does not implicitly {@link ClassMessage.verify|verify} messages.\n     * @function encode\n     * @memberof ClassMessage\n     * @static\n     * @param {IClassMessage} message ClassMessage message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassMessage.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.response != null && Object.hasOwnProperty.call(message, \"response\"))\n            $root.ClassResponse.encode(message.response, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        if (message.joinEvent != null && Object.hasOwnProperty.call(message, \"joinEvent\"))\n            $root.JoinEvent.encode(message.joinEvent, writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n        if (message.deviceConnected != null && Object.hasOwnProperty.call(message, \"deviceConnected\"))\n            $root.DeviceConnectedEvent.encode(message.deviceConnected, writer.uint32(/* id 4, wireType 2 =*/34).fork()).ldelim();\n        if (message.deviceDisconnected != null && Object.hasOwnProperty.call(message, \"deviceDisconnected\"))\n            $root.DeviceDisconnectedEvent.encode(message.deviceDisconnected, writer.uint32(/* id 5, wireType 2 =*/42).fork()).ldelim();\n        if (message.classEnded != null && Object.hasOwnProperty.call(message, \"classEnded\"))\n            $root.ClassEndedEvent.encode(message.classEnded, writer.uint32(/* id 6, wireType 2 =*/50).fork()).ldelim();\n        if (message.hostChanged != null && Object.hasOwnProperty.call(message, \"hostChanged\"))\n            $root.HostChangedEvent.encode(message.hostChanged, writer.uint32(/* id 7, wireType 2 =*/58).fork()).ldelim();\n        if (message.contentChanged != null && Object.hasOwnProperty.call(message, \"contentChanged\"))\n            $root.ContentChangedEvent.encode(message.contentChanged, writer.uint32(/* id 8, wireType 2 =*/66).fork()).ldelim();\n        if (message.actvityStreamIdChanged != null && Object.hasOwnProperty.call(message, \"actvityStreamIdChanged\"))\n            $root.ActivityStreamIdChangedEvent.encode(message.actvityStreamIdChanged, writer.uint32(/* id 9, wireType 2 =*/74).fork()).ldelim();\n        if (message.trophyRewardedToUser != null && Object.hasOwnProperty.call(message, \"trophyRewardedToUser\"))\n            $root.TrophyRewardedToUserEvent.encode(message.trophyRewardedToUser, writer.uint32(/* id 10, wireType 2 =*/82).fork()).ldelim();\n        if (message.trophyRewardedToAll != null && Object.hasOwnProperty.call(message, \"trophyRewardedToAll\"))\n            $root.TrophyRewardedToAllEvent.encode(message.trophyRewardedToAll, writer.uint32(/* id 11, wireType 2 =*/90).fork()).ldelim();\n        if (message.newChatMessage != null && Object.hasOwnProperty.call(message, \"newChatMessage\"))\n            $root.NewChatMessageEvent.encode(message.newChatMessage, writer.uint32(/* id 12, wireType 2 =*/98).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ClassMessage message, length delimited. Does not implicitly {@link ClassMessage.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ClassMessage\n     * @static\n     * @param {IClassMessage} message ClassMessage message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassMessage.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ClassMessage message from the specified reader or buffer.\n     * @function decode\n     * @memberof ClassMessage\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ClassMessage} ClassMessage\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassMessage.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ClassMessage();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.response = $root.ClassResponse.decode(reader, reader.uint32());\n                break;\n            case 3:\n                message.joinEvent = $root.JoinEvent.decode(reader, reader.uint32());\n                break;\n            case 4:\n                message.deviceConnected = $root.DeviceConnectedEvent.decode(reader, reader.uint32());\n                break;\n            case 5:\n                message.deviceDisconnected = $root.DeviceDisconnectedEvent.decode(reader, reader.uint32());\n                break;\n            case 6:\n                message.classEnded = $root.ClassEndedEvent.decode(reader, reader.uint32());\n                break;\n            case 7:\n                message.hostChanged = $root.HostChangedEvent.decode(reader, reader.uint32());\n                break;\n            case 8:\n                message.contentChanged = $root.ContentChangedEvent.decode(reader, reader.uint32());\n                break;\n            case 9:\n                message.actvityStreamIdChanged = $root.ActivityStreamIdChangedEvent.decode(reader, reader.uint32());\n                break;\n            case 10:\n                message.trophyRewardedToUser = $root.TrophyRewardedToUserEvent.decode(reader, reader.uint32());\n                break;\n            case 11:\n                message.trophyRewardedToAll = $root.TrophyRewardedToAllEvent.decode(reader, reader.uint32());\n                break;\n            case 12:\n                message.newChatMessage = $root.NewChatMessageEvent.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ClassMessage message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ClassMessage\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ClassMessage} ClassMessage\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassMessage.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ClassMessage message.\n     * @function verify\n     * @memberof ClassMessage\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ClassMessage.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        var properties = {};\n        if (message.response != null && message.hasOwnProperty(\"response\")) {\n            var error = $root.ClassResponse.verify(message.response);\n            if (error)\n                return \"response.\" + error;\n        }\n        if (message.joinEvent != null && message.hasOwnProperty(\"joinEvent\")) {\n            properties.event = 1;\n            {\n                var error = $root.JoinEvent.verify(message.joinEvent);\n                if (error)\n                    return \"joinEvent.\" + error;\n            }\n        }\n        if (message.deviceConnected != null && message.hasOwnProperty(\"deviceConnected\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.DeviceConnectedEvent.verify(message.deviceConnected);\n                if (error)\n                    return \"deviceConnected.\" + error;\n            }\n        }\n        if (message.deviceDisconnected != null && message.hasOwnProperty(\"deviceDisconnected\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.DeviceDisconnectedEvent.verify(message.deviceDisconnected);\n                if (error)\n                    return \"deviceDisconnected.\" + error;\n            }\n        }\n        if (message.classEnded != null && message.hasOwnProperty(\"classEnded\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.ClassEndedEvent.verify(message.classEnded);\n                if (error)\n                    return \"classEnded.\" + error;\n            }\n        }\n        if (message.hostChanged != null && message.hasOwnProperty(\"hostChanged\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.HostChangedEvent.verify(message.hostChanged);\n                if (error)\n                    return \"hostChanged.\" + error;\n            }\n        }\n        if (message.contentChanged != null && message.hasOwnProperty(\"contentChanged\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.ContentChangedEvent.verify(message.contentChanged);\n                if (error)\n                    return \"contentChanged.\" + error;\n            }\n        }\n        if (message.actvityStreamIdChanged != null && message.hasOwnProperty(\"actvityStreamIdChanged\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.ActivityStreamIdChangedEvent.verify(message.actvityStreamIdChanged);\n                if (error)\n                    return \"actvityStreamIdChanged.\" + error;\n            }\n        }\n        if (message.trophyRewardedToUser != null && message.hasOwnProperty(\"trophyRewardedToUser\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.TrophyRewardedToUserEvent.verify(message.trophyRewardedToUser);\n                if (error)\n                    return \"trophyRewardedToUser.\" + error;\n            }\n        }\n        if (message.trophyRewardedToAll != null && message.hasOwnProperty(\"trophyRewardedToAll\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.TrophyRewardedToAllEvent.verify(message.trophyRewardedToAll);\n                if (error)\n                    return \"trophyRewardedToAll.\" + error;\n            }\n        }\n        if (message.newChatMessage != null && message.hasOwnProperty(\"newChatMessage\")) {\n            if (properties.event === 1)\n                return \"event: multiple values\";\n            properties.event = 1;\n            {\n                var error = $root.NewChatMessageEvent.verify(message.newChatMessage);\n                if (error)\n                    return \"newChatMessage.\" + error;\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Creates a ClassMessage message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ClassMessage\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ClassMessage} ClassMessage\n     */\n    ClassMessage.fromObject = function fromObject(object) {\n        if (object instanceof $root.ClassMessage)\n            return object;\n        var message = new $root.ClassMessage();\n        if (object.response != null) {\n            if (typeof object.response !== \"object\")\n                throw TypeError(\".ClassMessage.response: object expected\");\n            message.response = $root.ClassResponse.fromObject(object.response);\n        }\n        if (object.joinEvent != null) {\n            if (typeof object.joinEvent !== \"object\")\n                throw TypeError(\".ClassMessage.joinEvent: object expected\");\n            message.joinEvent = $root.JoinEvent.fromObject(object.joinEvent);\n        }\n        if (object.deviceConnected != null) {\n            if (typeof object.deviceConnected !== \"object\")\n                throw TypeError(\".ClassMessage.deviceConnected: object expected\");\n            message.deviceConnected = $root.DeviceConnectedEvent.fromObject(object.deviceConnected);\n        }\n        if (object.deviceDisconnected != null) {\n            if (typeof object.deviceDisconnected !== \"object\")\n                throw TypeError(\".ClassMessage.deviceDisconnected: object expected\");\n            message.deviceDisconnected = $root.DeviceDisconnectedEvent.fromObject(object.deviceDisconnected);\n        }\n        if (object.classEnded != null) {\n            if (typeof object.classEnded !== \"object\")\n                throw TypeError(\".ClassMessage.classEnded: object expected\");\n            message.classEnded = $root.ClassEndedEvent.fromObject(object.classEnded);\n        }\n        if (object.hostChanged != null) {\n            if (typeof object.hostChanged !== \"object\")\n                throw TypeError(\".ClassMessage.hostChanged: object expected\");\n            message.hostChanged = $root.HostChangedEvent.fromObject(object.hostChanged);\n        }\n        if (object.contentChanged != null) {\n            if (typeof object.contentChanged !== \"object\")\n                throw TypeError(\".ClassMessage.contentChanged: object expected\");\n            message.contentChanged = $root.ContentChangedEvent.fromObject(object.contentChanged);\n        }\n        if (object.actvityStreamIdChanged != null) {\n            if (typeof object.actvityStreamIdChanged !== \"object\")\n                throw TypeError(\".ClassMessage.actvityStreamIdChanged: object expected\");\n            message.actvityStreamIdChanged = $root.ActivityStreamIdChangedEvent.fromObject(object.actvityStreamIdChanged);\n        }\n        if (object.trophyRewardedToUser != null) {\n            if (typeof object.trophyRewardedToUser !== \"object\")\n                throw TypeError(\".ClassMessage.trophyRewardedToUser: object expected\");\n            message.trophyRewardedToUser = $root.TrophyRewardedToUserEvent.fromObject(object.trophyRewardedToUser);\n        }\n        if (object.trophyRewardedToAll != null) {\n            if (typeof object.trophyRewardedToAll !== \"object\")\n                throw TypeError(\".ClassMessage.trophyRewardedToAll: object expected\");\n            message.trophyRewardedToAll = $root.TrophyRewardedToAllEvent.fromObject(object.trophyRewardedToAll);\n        }\n        if (object.newChatMessage != null) {\n            if (typeof object.newChatMessage !== \"object\")\n                throw TypeError(\".ClassMessage.newChatMessage: object expected\");\n            message.newChatMessage = $root.NewChatMessageEvent.fromObject(object.newChatMessage);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ClassMessage message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ClassMessage\n     * @static\n     * @param {ClassMessage} message ClassMessage\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ClassMessage.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.response = null;\n        if (message.response != null && message.hasOwnProperty(\"response\"))\n            object.response = $root.ClassResponse.toObject(message.response, options);\n        if (message.joinEvent != null && message.hasOwnProperty(\"joinEvent\")) {\n            object.joinEvent = $root.JoinEvent.toObject(message.joinEvent, options);\n            if (options.oneofs)\n                object.event = \"joinEvent\";\n        }\n        if (message.deviceConnected != null && message.hasOwnProperty(\"deviceConnected\")) {\n            object.deviceConnected = $root.DeviceConnectedEvent.toObject(message.deviceConnected, options);\n            if (options.oneofs)\n                object.event = \"deviceConnected\";\n        }\n        if (message.deviceDisconnected != null && message.hasOwnProperty(\"deviceDisconnected\")) {\n            object.deviceDisconnected = $root.DeviceDisconnectedEvent.toObject(message.deviceDisconnected, options);\n            if (options.oneofs)\n                object.event = \"deviceDisconnected\";\n        }\n        if (message.classEnded != null && message.hasOwnProperty(\"classEnded\")) {\n            object.classEnded = $root.ClassEndedEvent.toObject(message.classEnded, options);\n            if (options.oneofs)\n                object.event = \"classEnded\";\n        }\n        if (message.hostChanged != null && message.hasOwnProperty(\"hostChanged\")) {\n            object.hostChanged = $root.HostChangedEvent.toObject(message.hostChanged, options);\n            if (options.oneofs)\n                object.event = \"hostChanged\";\n        }\n        if (message.contentChanged != null && message.hasOwnProperty(\"contentChanged\")) {\n            object.contentChanged = $root.ContentChangedEvent.toObject(message.contentChanged, options);\n            if (options.oneofs)\n                object.event = \"contentChanged\";\n        }\n        if (message.actvityStreamIdChanged != null && message.hasOwnProperty(\"actvityStreamIdChanged\")) {\n            object.actvityStreamIdChanged = $root.ActivityStreamIdChangedEvent.toObject(message.actvityStreamIdChanged, options);\n            if (options.oneofs)\n                object.event = \"actvityStreamIdChanged\";\n        }\n        if (message.trophyRewardedToUser != null && message.hasOwnProperty(\"trophyRewardedToUser\")) {\n            object.trophyRewardedToUser = $root.TrophyRewardedToUserEvent.toObject(message.trophyRewardedToUser, options);\n            if (options.oneofs)\n                object.event = \"trophyRewardedToUser\";\n        }\n        if (message.trophyRewardedToAll != null && message.hasOwnProperty(\"trophyRewardedToAll\")) {\n            object.trophyRewardedToAll = $root.TrophyRewardedToAllEvent.toObject(message.trophyRewardedToAll, options);\n            if (options.oneofs)\n                object.event = \"trophyRewardedToAll\";\n        }\n        if (message.newChatMessage != null && message.hasOwnProperty(\"newChatMessage\")) {\n            object.newChatMessage = $root.NewChatMessageEvent.toObject(message.newChatMessage, options);\n            if (options.oneofs)\n                object.event = \"newChatMessage\";\n        }\n        return object;\n    };\n\n    /**\n     * Converts this ClassMessage to JSON.\n     * @function toJSON\n     * @memberof ClassMessage\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ClassMessage.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ClassMessage;\n})();\n\n$root.EndClassCommand = (function() {\n\n    /**\n     * Properties of an EndClassCommand.\n     * @exports IEndClassCommand\n     * @interface IEndClassCommand\n     */\n\n    /**\n     * Constructs a new EndClassCommand.\n     * @exports EndClassCommand\n     * @classdesc Represents an EndClassCommand.\n     * @implements IEndClassCommand\n     * @constructor\n     * @param {IEndClassCommand=} [properties] Properties to set\n     */\n    function EndClassCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * Creates a new EndClassCommand instance using the specified properties.\n     * @function create\n     * @memberof EndClassCommand\n     * @static\n     * @param {IEndClassCommand=} [properties] Properties to set\n     * @returns {EndClassCommand} EndClassCommand instance\n     */\n    EndClassCommand.create = function create(properties) {\n        return new EndClassCommand(properties);\n    };\n\n    /**\n     * Encodes the specified EndClassCommand message. Does not implicitly {@link EndClassCommand.verify|verify} messages.\n     * @function encode\n     * @memberof EndClassCommand\n     * @static\n     * @param {IEndClassCommand} message EndClassCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    EndClassCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified EndClassCommand message, length delimited. Does not implicitly {@link EndClassCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof EndClassCommand\n     * @static\n     * @param {IEndClassCommand} message EndClassCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    EndClassCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes an EndClassCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof EndClassCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {EndClassCommand} EndClassCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    EndClassCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.EndClassCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes an EndClassCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof EndClassCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {EndClassCommand} EndClassCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    EndClassCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies an EndClassCommand message.\n     * @function verify\n     * @memberof EndClassCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    EndClassCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        return null;\n    };\n\n    /**\n     * Creates an EndClassCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof EndClassCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {EndClassCommand} EndClassCommand\n     */\n    EndClassCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.EndClassCommand)\n            return object;\n        return new $root.EndClassCommand();\n    };\n\n    /**\n     * Creates a plain object from an EndClassCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof EndClassCommand\n     * @static\n     * @param {EndClassCommand} message EndClassCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    EndClassCommand.toObject = function toObject() {\n        return {};\n    };\n\n    /**\n     * Converts this EndClassCommand to JSON.\n     * @function toJSON\n     * @memberof EndClassCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    EndClassCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return EndClassCommand;\n})();\n\n$root.SetHostCommand = (function() {\n\n    /**\n     * Properties of a SetHostCommand.\n     * @exports ISetHostCommand\n     * @interface ISetHostCommand\n     * @property {string|null} [hostDeviceId] SetHostCommand hostDeviceId\n     */\n\n    /**\n     * Constructs a new SetHostCommand.\n     * @exports SetHostCommand\n     * @classdesc Represents a SetHostCommand.\n     * @implements ISetHostCommand\n     * @constructor\n     * @param {ISetHostCommand=} [properties] Properties to set\n     */\n    function SetHostCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * SetHostCommand hostDeviceId.\n     * @member {string} hostDeviceId\n     * @memberof SetHostCommand\n     * @instance\n     */\n    SetHostCommand.prototype.hostDeviceId = \"\";\n\n    /**\n     * Creates a new SetHostCommand instance using the specified properties.\n     * @function create\n     * @memberof SetHostCommand\n     * @static\n     * @param {ISetHostCommand=} [properties] Properties to set\n     * @returns {SetHostCommand} SetHostCommand instance\n     */\n    SetHostCommand.create = function create(properties) {\n        return new SetHostCommand(properties);\n    };\n\n    /**\n     * Encodes the specified SetHostCommand message. Does not implicitly {@link SetHostCommand.verify|verify} messages.\n     * @function encode\n     * @memberof SetHostCommand\n     * @static\n     * @param {ISetHostCommand} message SetHostCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetHostCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.hostDeviceId != null && Object.hasOwnProperty.call(message, \"hostDeviceId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.hostDeviceId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified SetHostCommand message, length delimited. Does not implicitly {@link SetHostCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof SetHostCommand\n     * @static\n     * @param {ISetHostCommand} message SetHostCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetHostCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a SetHostCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof SetHostCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {SetHostCommand} SetHostCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetHostCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.SetHostCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.hostDeviceId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a SetHostCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof SetHostCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {SetHostCommand} SetHostCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetHostCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a SetHostCommand message.\n     * @function verify\n     * @memberof SetHostCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    SetHostCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            if (!$util.isString(message.hostDeviceId))\n                return \"hostDeviceId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a SetHostCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof SetHostCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {SetHostCommand} SetHostCommand\n     */\n    SetHostCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.SetHostCommand)\n            return object;\n        var message = new $root.SetHostCommand();\n        if (object.hostDeviceId != null)\n            message.hostDeviceId = String(object.hostDeviceId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a SetHostCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof SetHostCommand\n     * @static\n     * @param {SetHostCommand} message SetHostCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    SetHostCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.hostDeviceId = \"\";\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            object.hostDeviceId = message.hostDeviceId;\n        return object;\n    };\n\n    /**\n     * Converts this SetHostCommand to JSON.\n     * @function toJSON\n     * @memberof SetHostCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    SetHostCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return SetHostCommand;\n})();\n\n$root.SetContentCommand = (function() {\n\n    /**\n     * Properties of a SetContentCommand.\n     * @exports ISetContentCommand\n     * @interface ISetContentCommand\n     * @property {IContent|null} [content] SetContentCommand content\n     */\n\n    /**\n     * Constructs a new SetContentCommand.\n     * @exports SetContentCommand\n     * @classdesc Represents a SetContentCommand.\n     * @implements ISetContentCommand\n     * @constructor\n     * @param {ISetContentCommand=} [properties] Properties to set\n     */\n    function SetContentCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * SetContentCommand content.\n     * @member {IContent|null|undefined} content\n     * @memberof SetContentCommand\n     * @instance\n     */\n    SetContentCommand.prototype.content = null;\n\n    /**\n     * Creates a new SetContentCommand instance using the specified properties.\n     * @function create\n     * @memberof SetContentCommand\n     * @static\n     * @param {ISetContentCommand=} [properties] Properties to set\n     * @returns {SetContentCommand} SetContentCommand instance\n     */\n    SetContentCommand.create = function create(properties) {\n        return new SetContentCommand(properties);\n    };\n\n    /**\n     * Encodes the specified SetContentCommand message. Does not implicitly {@link SetContentCommand.verify|verify} messages.\n     * @function encode\n     * @memberof SetContentCommand\n     * @static\n     * @param {ISetContentCommand} message SetContentCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetContentCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.content != null && Object.hasOwnProperty.call(message, \"content\"))\n            $root.Content.encode(message.content, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified SetContentCommand message, length delimited. Does not implicitly {@link SetContentCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof SetContentCommand\n     * @static\n     * @param {ISetContentCommand} message SetContentCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetContentCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a SetContentCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof SetContentCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {SetContentCommand} SetContentCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetContentCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.SetContentCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.content = $root.Content.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a SetContentCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof SetContentCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {SetContentCommand} SetContentCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetContentCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a SetContentCommand message.\n     * @function verify\n     * @memberof SetContentCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    SetContentCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.content != null && message.hasOwnProperty(\"content\")) {\n            var error = $root.Content.verify(message.content);\n            if (error)\n                return \"content.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a SetContentCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof SetContentCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {SetContentCommand} SetContentCommand\n     */\n    SetContentCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.SetContentCommand)\n            return object;\n        var message = new $root.SetContentCommand();\n        if (object.content != null) {\n            if (typeof object.content !== \"object\")\n                throw TypeError(\".SetContentCommand.content: object expected\");\n            message.content = $root.Content.fromObject(object.content);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a SetContentCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof SetContentCommand\n     * @static\n     * @param {SetContentCommand} message SetContentCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    SetContentCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.content = null;\n        if (message.content != null && message.hasOwnProperty(\"content\"))\n            object.content = $root.Content.toObject(message.content, options);\n        return object;\n    };\n\n    /**\n     * Converts this SetContentCommand to JSON.\n     * @function toJSON\n     * @memberof SetContentCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    SetContentCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return SetContentCommand;\n})();\n\n$root.SetActivityStreamIdCommand = (function() {\n\n    /**\n     * Properties of a SetActivityStreamIdCommand.\n     * @exports ISetActivityStreamIdCommand\n     * @interface ISetActivityStreamIdCommand\n     * @property {string|null} [activityStreamId] SetActivityStreamIdCommand activityStreamId\n     */\n\n    /**\n     * Constructs a new SetActivityStreamIdCommand.\n     * @exports SetActivityStreamIdCommand\n     * @classdesc Represents a SetActivityStreamIdCommand.\n     * @implements ISetActivityStreamIdCommand\n     * @constructor\n     * @param {ISetActivityStreamIdCommand=} [properties] Properties to set\n     */\n    function SetActivityStreamIdCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * SetActivityStreamIdCommand activityStreamId.\n     * @member {string} activityStreamId\n     * @memberof SetActivityStreamIdCommand\n     * @instance\n     */\n    SetActivityStreamIdCommand.prototype.activityStreamId = \"\";\n\n    /**\n     * Creates a new SetActivityStreamIdCommand instance using the specified properties.\n     * @function create\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {ISetActivityStreamIdCommand=} [properties] Properties to set\n     * @returns {SetActivityStreamIdCommand} SetActivityStreamIdCommand instance\n     */\n    SetActivityStreamIdCommand.create = function create(properties) {\n        return new SetActivityStreamIdCommand(properties);\n    };\n\n    /**\n     * Encodes the specified SetActivityStreamIdCommand message. Does not implicitly {@link SetActivityStreamIdCommand.verify|verify} messages.\n     * @function encode\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {ISetActivityStreamIdCommand} message SetActivityStreamIdCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetActivityStreamIdCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.activityStreamId != null && Object.hasOwnProperty.call(message, \"activityStreamId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.activityStreamId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified SetActivityStreamIdCommand message, length delimited. Does not implicitly {@link SetActivityStreamIdCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {ISetActivityStreamIdCommand} message SetActivityStreamIdCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SetActivityStreamIdCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a SetActivityStreamIdCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {SetActivityStreamIdCommand} SetActivityStreamIdCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetActivityStreamIdCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.SetActivityStreamIdCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.activityStreamId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a SetActivityStreamIdCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {SetActivityStreamIdCommand} SetActivityStreamIdCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SetActivityStreamIdCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a SetActivityStreamIdCommand message.\n     * @function verify\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    SetActivityStreamIdCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            if (!$util.isString(message.activityStreamId))\n                return \"activityStreamId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a SetActivityStreamIdCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {SetActivityStreamIdCommand} SetActivityStreamIdCommand\n     */\n    SetActivityStreamIdCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.SetActivityStreamIdCommand)\n            return object;\n        var message = new $root.SetActivityStreamIdCommand();\n        if (object.activityStreamId != null)\n            message.activityStreamId = String(object.activityStreamId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a SetActivityStreamIdCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof SetActivityStreamIdCommand\n     * @static\n     * @param {SetActivityStreamIdCommand} message SetActivityStreamIdCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    SetActivityStreamIdCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.activityStreamId = \"\";\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            object.activityStreamId = message.activityStreamId;\n        return object;\n    };\n\n    /**\n     * Converts this SetActivityStreamIdCommand to JSON.\n     * @function toJSON\n     * @memberof SetActivityStreamIdCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    SetActivityStreamIdCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return SetActivityStreamIdCommand;\n})();\n\n$root.RewardTrophyToUserCommand = (function() {\n\n    /**\n     * Properties of a RewardTrophyToUserCommand.\n     * @exports IRewardTrophyToUserCommand\n     * @interface IRewardTrophyToUserCommand\n     * @property {string|null} [userId] RewardTrophyToUserCommand userId\n     * @property {ITrophy|null} [trophy] RewardTrophyToUserCommand trophy\n     */\n\n    /**\n     * Constructs a new RewardTrophyToUserCommand.\n     * @exports RewardTrophyToUserCommand\n     * @classdesc Represents a RewardTrophyToUserCommand.\n     * @implements IRewardTrophyToUserCommand\n     * @constructor\n     * @param {IRewardTrophyToUserCommand=} [properties] Properties to set\n     */\n    function RewardTrophyToUserCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * RewardTrophyToUserCommand userId.\n     * @member {string} userId\n     * @memberof RewardTrophyToUserCommand\n     * @instance\n     */\n    RewardTrophyToUserCommand.prototype.userId = \"\";\n\n    /**\n     * RewardTrophyToUserCommand trophy.\n     * @member {ITrophy|null|undefined} trophy\n     * @memberof RewardTrophyToUserCommand\n     * @instance\n     */\n    RewardTrophyToUserCommand.prototype.trophy = null;\n\n    /**\n     * Creates a new RewardTrophyToUserCommand instance using the specified properties.\n     * @function create\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {IRewardTrophyToUserCommand=} [properties] Properties to set\n     * @returns {RewardTrophyToUserCommand} RewardTrophyToUserCommand instance\n     */\n    RewardTrophyToUserCommand.create = function create(properties) {\n        return new RewardTrophyToUserCommand(properties);\n    };\n\n    /**\n     * Encodes the specified RewardTrophyToUserCommand message. Does not implicitly {@link RewardTrophyToUserCommand.verify|verify} messages.\n     * @function encode\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {IRewardTrophyToUserCommand} message RewardTrophyToUserCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    RewardTrophyToUserCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.userId != null && Object.hasOwnProperty.call(message, \"userId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.userId);\n        if (message.trophy != null && Object.hasOwnProperty.call(message, \"trophy\"))\n            $root.Trophy.encode(message.trophy, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified RewardTrophyToUserCommand message, length delimited. Does not implicitly {@link RewardTrophyToUserCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {IRewardTrophyToUserCommand} message RewardTrophyToUserCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    RewardTrophyToUserCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a RewardTrophyToUserCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {RewardTrophyToUserCommand} RewardTrophyToUserCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    RewardTrophyToUserCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.RewardTrophyToUserCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.userId = reader.string();\n                break;\n            case 2:\n                message.trophy = $root.Trophy.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a RewardTrophyToUserCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {RewardTrophyToUserCommand} RewardTrophyToUserCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    RewardTrophyToUserCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a RewardTrophyToUserCommand message.\n     * @function verify\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    RewardTrophyToUserCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            if (!$util.isString(message.userId))\n                return \"userId: string expected\";\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\")) {\n            var error = $root.Trophy.verify(message.trophy);\n            if (error)\n                return \"trophy.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a RewardTrophyToUserCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {RewardTrophyToUserCommand} RewardTrophyToUserCommand\n     */\n    RewardTrophyToUserCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.RewardTrophyToUserCommand)\n            return object;\n        var message = new $root.RewardTrophyToUserCommand();\n        if (object.userId != null)\n            message.userId = String(object.userId);\n        if (object.trophy != null) {\n            if (typeof object.trophy !== \"object\")\n                throw TypeError(\".RewardTrophyToUserCommand.trophy: object expected\");\n            message.trophy = $root.Trophy.fromObject(object.trophy);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a RewardTrophyToUserCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof RewardTrophyToUserCommand\n     * @static\n     * @param {RewardTrophyToUserCommand} message RewardTrophyToUserCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    RewardTrophyToUserCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.userId = \"\";\n            object.trophy = null;\n        }\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            object.userId = message.userId;\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\"))\n            object.trophy = $root.Trophy.toObject(message.trophy, options);\n        return object;\n    };\n\n    /**\n     * Converts this RewardTrophyToUserCommand to JSON.\n     * @function toJSON\n     * @memberof RewardTrophyToUserCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    RewardTrophyToUserCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return RewardTrophyToUserCommand;\n})();\n\n$root.RewardTrophyToAllCommand = (function() {\n\n    /**\n     * Properties of a RewardTrophyToAllCommand.\n     * @exports IRewardTrophyToAllCommand\n     * @interface IRewardTrophyToAllCommand\n     * @property {ITrophy|null} [trophy] RewardTrophyToAllCommand trophy\n     */\n\n    /**\n     * Constructs a new RewardTrophyToAllCommand.\n     * @exports RewardTrophyToAllCommand\n     * @classdesc Represents a RewardTrophyToAllCommand.\n     * @implements IRewardTrophyToAllCommand\n     * @constructor\n     * @param {IRewardTrophyToAllCommand=} [properties] Properties to set\n     */\n    function RewardTrophyToAllCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * RewardTrophyToAllCommand trophy.\n     * @member {ITrophy|null|undefined} trophy\n     * @memberof RewardTrophyToAllCommand\n     * @instance\n     */\n    RewardTrophyToAllCommand.prototype.trophy = null;\n\n    /**\n     * Creates a new RewardTrophyToAllCommand instance using the specified properties.\n     * @function create\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {IRewardTrophyToAllCommand=} [properties] Properties to set\n     * @returns {RewardTrophyToAllCommand} RewardTrophyToAllCommand instance\n     */\n    RewardTrophyToAllCommand.create = function create(properties) {\n        return new RewardTrophyToAllCommand(properties);\n    };\n\n    /**\n     * Encodes the specified RewardTrophyToAllCommand message. Does not implicitly {@link RewardTrophyToAllCommand.verify|verify} messages.\n     * @function encode\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {IRewardTrophyToAllCommand} message RewardTrophyToAllCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    RewardTrophyToAllCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.trophy != null && Object.hasOwnProperty.call(message, \"trophy\"))\n            $root.Trophy.encode(message.trophy, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified RewardTrophyToAllCommand message, length delimited. Does not implicitly {@link RewardTrophyToAllCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {IRewardTrophyToAllCommand} message RewardTrophyToAllCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    RewardTrophyToAllCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a RewardTrophyToAllCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {RewardTrophyToAllCommand} RewardTrophyToAllCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    RewardTrophyToAllCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.RewardTrophyToAllCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.trophy = $root.Trophy.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a RewardTrophyToAllCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {RewardTrophyToAllCommand} RewardTrophyToAllCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    RewardTrophyToAllCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a RewardTrophyToAllCommand message.\n     * @function verify\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    RewardTrophyToAllCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\")) {\n            var error = $root.Trophy.verify(message.trophy);\n            if (error)\n                return \"trophy.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a RewardTrophyToAllCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {RewardTrophyToAllCommand} RewardTrophyToAllCommand\n     */\n    RewardTrophyToAllCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.RewardTrophyToAllCommand)\n            return object;\n        var message = new $root.RewardTrophyToAllCommand();\n        if (object.trophy != null) {\n            if (typeof object.trophy !== \"object\")\n                throw TypeError(\".RewardTrophyToAllCommand.trophy: object expected\");\n            message.trophy = $root.Trophy.fromObject(object.trophy);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a RewardTrophyToAllCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof RewardTrophyToAllCommand\n     * @static\n     * @param {RewardTrophyToAllCommand} message RewardTrophyToAllCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    RewardTrophyToAllCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.trophy = null;\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\"))\n            object.trophy = $root.Trophy.toObject(message.trophy, options);\n        return object;\n    };\n\n    /**\n     * Converts this RewardTrophyToAllCommand to JSON.\n     * @function toJSON\n     * @memberof RewardTrophyToAllCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    RewardTrophyToAllCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return RewardTrophyToAllCommand;\n})();\n\n$root.SendChatMessageCommand = (function() {\n\n    /**\n     * Properties of a SendChatMessageCommand.\n     * @exports ISendChatMessageCommand\n     * @interface ISendChatMessageCommand\n     * @property {string|null} [text] SendChatMessageCommand text\n     */\n\n    /**\n     * Constructs a new SendChatMessageCommand.\n     * @exports SendChatMessageCommand\n     * @classdesc Represents a SendChatMessageCommand.\n     * @implements ISendChatMessageCommand\n     * @constructor\n     * @param {ISendChatMessageCommand=} [properties] Properties to set\n     */\n    function SendChatMessageCommand(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * SendChatMessageCommand text.\n     * @member {string} text\n     * @memberof SendChatMessageCommand\n     * @instance\n     */\n    SendChatMessageCommand.prototype.text = \"\";\n\n    /**\n     * Creates a new SendChatMessageCommand instance using the specified properties.\n     * @function create\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {ISendChatMessageCommand=} [properties] Properties to set\n     * @returns {SendChatMessageCommand} SendChatMessageCommand instance\n     */\n    SendChatMessageCommand.create = function create(properties) {\n        return new SendChatMessageCommand(properties);\n    };\n\n    /**\n     * Encodes the specified SendChatMessageCommand message. Does not implicitly {@link SendChatMessageCommand.verify|verify} messages.\n     * @function encode\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {ISendChatMessageCommand} message SendChatMessageCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SendChatMessageCommand.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.text != null && Object.hasOwnProperty.call(message, \"text\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.text);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified SendChatMessageCommand message, length delimited. Does not implicitly {@link SendChatMessageCommand.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {ISendChatMessageCommand} message SendChatMessageCommand message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    SendChatMessageCommand.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a SendChatMessageCommand message from the specified reader or buffer.\n     * @function decode\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {SendChatMessageCommand} SendChatMessageCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SendChatMessageCommand.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.SendChatMessageCommand();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.text = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a SendChatMessageCommand message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {SendChatMessageCommand} SendChatMessageCommand\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    SendChatMessageCommand.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a SendChatMessageCommand message.\n     * @function verify\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    SendChatMessageCommand.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.text != null && message.hasOwnProperty(\"text\"))\n            if (!$util.isString(message.text))\n                return \"text: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a SendChatMessageCommand message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {SendChatMessageCommand} SendChatMessageCommand\n     */\n    SendChatMessageCommand.fromObject = function fromObject(object) {\n        if (object instanceof $root.SendChatMessageCommand)\n            return object;\n        var message = new $root.SendChatMessageCommand();\n        if (object.text != null)\n            message.text = String(object.text);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a SendChatMessageCommand message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof SendChatMessageCommand\n     * @static\n     * @param {SendChatMessageCommand} message SendChatMessageCommand\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    SendChatMessageCommand.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.text = \"\";\n        if (message.text != null && message.hasOwnProperty(\"text\"))\n            object.text = message.text;\n        return object;\n    };\n\n    /**\n     * Converts this SendChatMessageCommand to JSON.\n     * @function toJSON\n     * @memberof SendChatMessageCommand\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    SendChatMessageCommand.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return SendChatMessageCommand;\n})();\n\n$root.JoinEvent = (function() {\n\n    /**\n     * Properties of a JoinEvent.\n     * @exports IJoinEvent\n     * @interface IJoinEvent\n     * @property {IClassState|null} [state] JoinEvent state\n     * @property {string|null} [deviceId] JoinEvent deviceId\n     */\n\n    /**\n     * Constructs a new JoinEvent.\n     * @exports JoinEvent\n     * @classdesc Represents a JoinEvent.\n     * @implements IJoinEvent\n     * @constructor\n     * @param {IJoinEvent=} [properties] Properties to set\n     */\n    function JoinEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * JoinEvent state.\n     * @member {IClassState|null|undefined} state\n     * @memberof JoinEvent\n     * @instance\n     */\n    JoinEvent.prototype.state = null;\n\n    /**\n     * JoinEvent deviceId.\n     * @member {string} deviceId\n     * @memberof JoinEvent\n     * @instance\n     */\n    JoinEvent.prototype.deviceId = \"\";\n\n    /**\n     * Creates a new JoinEvent instance using the specified properties.\n     * @function create\n     * @memberof JoinEvent\n     * @static\n     * @param {IJoinEvent=} [properties] Properties to set\n     * @returns {JoinEvent} JoinEvent instance\n     */\n    JoinEvent.create = function create(properties) {\n        return new JoinEvent(properties);\n    };\n\n    /**\n     * Encodes the specified JoinEvent message. Does not implicitly {@link JoinEvent.verify|verify} messages.\n     * @function encode\n     * @memberof JoinEvent\n     * @static\n     * @param {IJoinEvent} message JoinEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    JoinEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.state != null && Object.hasOwnProperty.call(message, \"state\"))\n            $root.ClassState.encode(message.state, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        if (message.deviceId != null && Object.hasOwnProperty.call(message, \"deviceId\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.deviceId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified JoinEvent message, length delimited. Does not implicitly {@link JoinEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof JoinEvent\n     * @static\n     * @param {IJoinEvent} message JoinEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    JoinEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a JoinEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof JoinEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {JoinEvent} JoinEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    JoinEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.JoinEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.state = $root.ClassState.decode(reader, reader.uint32());\n                break;\n            case 2:\n                message.deviceId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a JoinEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof JoinEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {JoinEvent} JoinEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    JoinEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a JoinEvent message.\n     * @function verify\n     * @memberof JoinEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    JoinEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.state != null && message.hasOwnProperty(\"state\")) {\n            var error = $root.ClassState.verify(message.state);\n            if (error)\n                return \"state.\" + error;\n        }\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            if (!$util.isString(message.deviceId))\n                return \"deviceId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a JoinEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof JoinEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {JoinEvent} JoinEvent\n     */\n    JoinEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.JoinEvent)\n            return object;\n        var message = new $root.JoinEvent();\n        if (object.state != null) {\n            if (typeof object.state !== \"object\")\n                throw TypeError(\".JoinEvent.state: object expected\");\n            message.state = $root.ClassState.fromObject(object.state);\n        }\n        if (object.deviceId != null)\n            message.deviceId = String(object.deviceId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a JoinEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof JoinEvent\n     * @static\n     * @param {JoinEvent} message JoinEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    JoinEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.state = null;\n            object.deviceId = \"\";\n        }\n        if (message.state != null && message.hasOwnProperty(\"state\"))\n            object.state = $root.ClassState.toObject(message.state, options);\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            object.deviceId = message.deviceId;\n        return object;\n    };\n\n    /**\n     * Converts this JoinEvent to JSON.\n     * @function toJSON\n     * @memberof JoinEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    JoinEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return JoinEvent;\n})();\n\n$root.ClassEndedEvent = (function() {\n\n    /**\n     * Properties of a ClassEndedEvent.\n     * @exports IClassEndedEvent\n     * @interface IClassEndedEvent\n     * @property {number|Long|null} [timestamp] ClassEndedEvent timestamp\n     */\n\n    /**\n     * Constructs a new ClassEndedEvent.\n     * @exports ClassEndedEvent\n     * @classdesc Represents a ClassEndedEvent.\n     * @implements IClassEndedEvent\n     * @constructor\n     * @param {IClassEndedEvent=} [properties] Properties to set\n     */\n    function ClassEndedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ClassEndedEvent timestamp.\n     * @member {number|Long} timestamp\n     * @memberof ClassEndedEvent\n     * @instance\n     */\n    ClassEndedEvent.prototype.timestamp = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * Creates a new ClassEndedEvent instance using the specified properties.\n     * @function create\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {IClassEndedEvent=} [properties] Properties to set\n     * @returns {ClassEndedEvent} ClassEndedEvent instance\n     */\n    ClassEndedEvent.create = function create(properties) {\n        return new ClassEndedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified ClassEndedEvent message. Does not implicitly {@link ClassEndedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {IClassEndedEvent} message ClassEndedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassEndedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.timestamp != null && Object.hasOwnProperty.call(message, \"timestamp\"))\n            writer.uint32(/* id 1, wireType 0 =*/8).uint64(message.timestamp);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ClassEndedEvent message, length delimited. Does not implicitly {@link ClassEndedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {IClassEndedEvent} message ClassEndedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassEndedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ClassEndedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ClassEndedEvent} ClassEndedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassEndedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ClassEndedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.timestamp = reader.uint64();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ClassEndedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ClassEndedEvent} ClassEndedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassEndedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ClassEndedEvent message.\n     * @function verify\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ClassEndedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (!$util.isInteger(message.timestamp) && !(message.timestamp && $util.isInteger(message.timestamp.low) && $util.isInteger(message.timestamp.high)))\n                return \"timestamp: integer|Long expected\";\n        return null;\n    };\n\n    /**\n     * Creates a ClassEndedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ClassEndedEvent} ClassEndedEvent\n     */\n    ClassEndedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.ClassEndedEvent)\n            return object;\n        var message = new $root.ClassEndedEvent();\n        if (object.timestamp != null)\n            if ($util.Long)\n                (message.timestamp = $util.Long.fromValue(object.timestamp)).unsigned = true;\n            else if (typeof object.timestamp === \"string\")\n                message.timestamp = parseInt(object.timestamp, 10);\n            else if (typeof object.timestamp === \"number\")\n                message.timestamp = object.timestamp;\n            else if (typeof object.timestamp === \"object\")\n                message.timestamp = new $util.LongBits(object.timestamp.low >>> 0, object.timestamp.high >>> 0).toNumber(true);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ClassEndedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ClassEndedEvent\n     * @static\n     * @param {ClassEndedEvent} message ClassEndedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ClassEndedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            if ($util.Long) {\n                var long = new $util.Long(0, 0, true);\n                object.timestamp = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;\n            } else\n                object.timestamp = options.longs === String ? \"0\" : 0;\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (typeof message.timestamp === \"number\")\n                object.timestamp = options.longs === String ? String(message.timestamp) : message.timestamp;\n            else\n                object.timestamp = options.longs === String ? $util.Long.prototype.toString.call(message.timestamp) : options.longs === Number ? new $util.LongBits(message.timestamp.low >>> 0, message.timestamp.high >>> 0).toNumber(true) : message.timestamp;\n        return object;\n    };\n\n    /**\n     * Converts this ClassEndedEvent to JSON.\n     * @function toJSON\n     * @memberof ClassEndedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ClassEndedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ClassEndedEvent;\n})();\n\n$root.DeviceConnectedEvent = (function() {\n\n    /**\n     * Properties of a DeviceConnectedEvent.\n     * @exports IDeviceConnectedEvent\n     * @interface IDeviceConnectedEvent\n     * @property {string|null} [name] DeviceConnectedEvent name\n     * @property {string|null} [role] DeviceConnectedEvent role\n     * @property {IDevice|null} [device] DeviceConnectedEvent device\n     */\n\n    /**\n     * Constructs a new DeviceConnectedEvent.\n     * @exports DeviceConnectedEvent\n     * @classdesc Represents a DeviceConnectedEvent.\n     * @implements IDeviceConnectedEvent\n     * @constructor\n     * @param {IDeviceConnectedEvent=} [properties] Properties to set\n     */\n    function DeviceConnectedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * DeviceConnectedEvent name.\n     * @member {string} name\n     * @memberof DeviceConnectedEvent\n     * @instance\n     */\n    DeviceConnectedEvent.prototype.name = \"\";\n\n    /**\n     * DeviceConnectedEvent role.\n     * @member {string} role\n     * @memberof DeviceConnectedEvent\n     * @instance\n     */\n    DeviceConnectedEvent.prototype.role = \"\";\n\n    /**\n     * DeviceConnectedEvent device.\n     * @member {IDevice|null|undefined} device\n     * @memberof DeviceConnectedEvent\n     * @instance\n     */\n    DeviceConnectedEvent.prototype.device = null;\n\n    /**\n     * Creates a new DeviceConnectedEvent instance using the specified properties.\n     * @function create\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {IDeviceConnectedEvent=} [properties] Properties to set\n     * @returns {DeviceConnectedEvent} DeviceConnectedEvent instance\n     */\n    DeviceConnectedEvent.create = function create(properties) {\n        return new DeviceConnectedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified DeviceConnectedEvent message. Does not implicitly {@link DeviceConnectedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {IDeviceConnectedEvent} message DeviceConnectedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    DeviceConnectedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.name != null && Object.hasOwnProperty.call(message, \"name\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.name);\n        if (message.role != null && Object.hasOwnProperty.call(message, \"role\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.role);\n        if (message.device != null && Object.hasOwnProperty.call(message, \"device\"))\n            $root.Device.encode(message.device, writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified DeviceConnectedEvent message, length delimited. Does not implicitly {@link DeviceConnectedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {IDeviceConnectedEvent} message DeviceConnectedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    DeviceConnectedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a DeviceConnectedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {DeviceConnectedEvent} DeviceConnectedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    DeviceConnectedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.DeviceConnectedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.name = reader.string();\n                break;\n            case 2:\n                message.role = reader.string();\n                break;\n            case 3:\n                message.device = $root.Device.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a DeviceConnectedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {DeviceConnectedEvent} DeviceConnectedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    DeviceConnectedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a DeviceConnectedEvent message.\n     * @function verify\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    DeviceConnectedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.name != null && message.hasOwnProperty(\"name\"))\n            if (!$util.isString(message.name))\n                return \"name: string expected\";\n        if (message.role != null && message.hasOwnProperty(\"role\"))\n            if (!$util.isString(message.role))\n                return \"role: string expected\";\n        if (message.device != null && message.hasOwnProperty(\"device\")) {\n            var error = $root.Device.verify(message.device);\n            if (error)\n                return \"device.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a DeviceConnectedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {DeviceConnectedEvent} DeviceConnectedEvent\n     */\n    DeviceConnectedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.DeviceConnectedEvent)\n            return object;\n        var message = new $root.DeviceConnectedEvent();\n        if (object.name != null)\n            message.name = String(object.name);\n        if (object.role != null)\n            message.role = String(object.role);\n        if (object.device != null) {\n            if (typeof object.device !== \"object\")\n                throw TypeError(\".DeviceConnectedEvent.device: object expected\");\n            message.device = $root.Device.fromObject(object.device);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a DeviceConnectedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof DeviceConnectedEvent\n     * @static\n     * @param {DeviceConnectedEvent} message DeviceConnectedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    DeviceConnectedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.name = \"\";\n            object.role = \"\";\n            object.device = null;\n        }\n        if (message.name != null && message.hasOwnProperty(\"name\"))\n            object.name = message.name;\n        if (message.role != null && message.hasOwnProperty(\"role\"))\n            object.role = message.role;\n        if (message.device != null && message.hasOwnProperty(\"device\"))\n            object.device = $root.Device.toObject(message.device, options);\n        return object;\n    };\n\n    /**\n     * Converts this DeviceConnectedEvent to JSON.\n     * @function toJSON\n     * @memberof DeviceConnectedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    DeviceConnectedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return DeviceConnectedEvent;\n})();\n\n$root.DeviceDisconnectedEvent = (function() {\n\n    /**\n     * Properties of a DeviceDisconnectedEvent.\n     * @exports IDeviceDisconnectedEvent\n     * @interface IDeviceDisconnectedEvent\n     * @property {string|null} [deviceId] DeviceDisconnectedEvent deviceId\n     */\n\n    /**\n     * Constructs a new DeviceDisconnectedEvent.\n     * @exports DeviceDisconnectedEvent\n     * @classdesc Represents a DeviceDisconnectedEvent.\n     * @implements IDeviceDisconnectedEvent\n     * @constructor\n     * @param {IDeviceDisconnectedEvent=} [properties] Properties to set\n     */\n    function DeviceDisconnectedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * DeviceDisconnectedEvent deviceId.\n     * @member {string} deviceId\n     * @memberof DeviceDisconnectedEvent\n     * @instance\n     */\n    DeviceDisconnectedEvent.prototype.deviceId = \"\";\n\n    /**\n     * Creates a new DeviceDisconnectedEvent instance using the specified properties.\n     * @function create\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {IDeviceDisconnectedEvent=} [properties] Properties to set\n     * @returns {DeviceDisconnectedEvent} DeviceDisconnectedEvent instance\n     */\n    DeviceDisconnectedEvent.create = function create(properties) {\n        return new DeviceDisconnectedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified DeviceDisconnectedEvent message. Does not implicitly {@link DeviceDisconnectedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {IDeviceDisconnectedEvent} message DeviceDisconnectedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    DeviceDisconnectedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.deviceId != null && Object.hasOwnProperty.call(message, \"deviceId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.deviceId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified DeviceDisconnectedEvent message, length delimited. Does not implicitly {@link DeviceDisconnectedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {IDeviceDisconnectedEvent} message DeviceDisconnectedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    DeviceDisconnectedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a DeviceDisconnectedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {DeviceDisconnectedEvent} DeviceDisconnectedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    DeviceDisconnectedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.DeviceDisconnectedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.deviceId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a DeviceDisconnectedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {DeviceDisconnectedEvent} DeviceDisconnectedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    DeviceDisconnectedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a DeviceDisconnectedEvent message.\n     * @function verify\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    DeviceDisconnectedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            if (!$util.isString(message.deviceId))\n                return \"deviceId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a DeviceDisconnectedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {DeviceDisconnectedEvent} DeviceDisconnectedEvent\n     */\n    DeviceDisconnectedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.DeviceDisconnectedEvent)\n            return object;\n        var message = new $root.DeviceDisconnectedEvent();\n        if (object.deviceId != null)\n            message.deviceId = String(object.deviceId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a DeviceDisconnectedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof DeviceDisconnectedEvent\n     * @static\n     * @param {DeviceDisconnectedEvent} message DeviceDisconnectedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    DeviceDisconnectedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.deviceId = \"\";\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            object.deviceId = message.deviceId;\n        return object;\n    };\n\n    /**\n     * Converts this DeviceDisconnectedEvent to JSON.\n     * @function toJSON\n     * @memberof DeviceDisconnectedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    DeviceDisconnectedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return DeviceDisconnectedEvent;\n})();\n\n$root.HostChangedEvent = (function() {\n\n    /**\n     * Properties of a HostChangedEvent.\n     * @exports IHostChangedEvent\n     * @interface IHostChangedEvent\n     * @property {string|null} [hostDeviceId] HostChangedEvent hostDeviceId\n     */\n\n    /**\n     * Constructs a new HostChangedEvent.\n     * @exports HostChangedEvent\n     * @classdesc Represents a HostChangedEvent.\n     * @implements IHostChangedEvent\n     * @constructor\n     * @param {IHostChangedEvent=} [properties] Properties to set\n     */\n    function HostChangedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * HostChangedEvent hostDeviceId.\n     * @member {string} hostDeviceId\n     * @memberof HostChangedEvent\n     * @instance\n     */\n    HostChangedEvent.prototype.hostDeviceId = \"\";\n\n    /**\n     * Creates a new HostChangedEvent instance using the specified properties.\n     * @function create\n     * @memberof HostChangedEvent\n     * @static\n     * @param {IHostChangedEvent=} [properties] Properties to set\n     * @returns {HostChangedEvent} HostChangedEvent instance\n     */\n    HostChangedEvent.create = function create(properties) {\n        return new HostChangedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified HostChangedEvent message. Does not implicitly {@link HostChangedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof HostChangedEvent\n     * @static\n     * @param {IHostChangedEvent} message HostChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    HostChangedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.hostDeviceId != null && Object.hasOwnProperty.call(message, \"hostDeviceId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.hostDeviceId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified HostChangedEvent message, length delimited. Does not implicitly {@link HostChangedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof HostChangedEvent\n     * @static\n     * @param {IHostChangedEvent} message HostChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    HostChangedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a HostChangedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof HostChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {HostChangedEvent} HostChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    HostChangedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.HostChangedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.hostDeviceId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a HostChangedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof HostChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {HostChangedEvent} HostChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    HostChangedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a HostChangedEvent message.\n     * @function verify\n     * @memberof HostChangedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    HostChangedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            if (!$util.isString(message.hostDeviceId))\n                return \"hostDeviceId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a HostChangedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof HostChangedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {HostChangedEvent} HostChangedEvent\n     */\n    HostChangedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.HostChangedEvent)\n            return object;\n        var message = new $root.HostChangedEvent();\n        if (object.hostDeviceId != null)\n            message.hostDeviceId = String(object.hostDeviceId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a HostChangedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof HostChangedEvent\n     * @static\n     * @param {HostChangedEvent} message HostChangedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    HostChangedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.hostDeviceId = \"\";\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            object.hostDeviceId = message.hostDeviceId;\n        return object;\n    };\n\n    /**\n     * Converts this HostChangedEvent to JSON.\n     * @function toJSON\n     * @memberof HostChangedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    HostChangedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return HostChangedEvent;\n})();\n\n$root.ContentChangedEvent = (function() {\n\n    /**\n     * Properties of a ContentChangedEvent.\n     * @exports IContentChangedEvent\n     * @interface IContentChangedEvent\n     * @property {IContent|null} [content] ContentChangedEvent content\n     */\n\n    /**\n     * Constructs a new ContentChangedEvent.\n     * @exports ContentChangedEvent\n     * @classdesc Represents a ContentChangedEvent.\n     * @implements IContentChangedEvent\n     * @constructor\n     * @param {IContentChangedEvent=} [properties] Properties to set\n     */\n    function ContentChangedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ContentChangedEvent content.\n     * @member {IContent|null|undefined} content\n     * @memberof ContentChangedEvent\n     * @instance\n     */\n    ContentChangedEvent.prototype.content = null;\n\n    /**\n     * Creates a new ContentChangedEvent instance using the specified properties.\n     * @function create\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {IContentChangedEvent=} [properties] Properties to set\n     * @returns {ContentChangedEvent} ContentChangedEvent instance\n     */\n    ContentChangedEvent.create = function create(properties) {\n        return new ContentChangedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified ContentChangedEvent message. Does not implicitly {@link ContentChangedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {IContentChangedEvent} message ContentChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ContentChangedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.content != null && Object.hasOwnProperty.call(message, \"content\"))\n            $root.Content.encode(message.content, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ContentChangedEvent message, length delimited. Does not implicitly {@link ContentChangedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {IContentChangedEvent} message ContentChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ContentChangedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ContentChangedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ContentChangedEvent} ContentChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ContentChangedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ContentChangedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.content = $root.Content.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ContentChangedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ContentChangedEvent} ContentChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ContentChangedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ContentChangedEvent message.\n     * @function verify\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ContentChangedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.content != null && message.hasOwnProperty(\"content\")) {\n            var error = $root.Content.verify(message.content);\n            if (error)\n                return \"content.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a ContentChangedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ContentChangedEvent} ContentChangedEvent\n     */\n    ContentChangedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.ContentChangedEvent)\n            return object;\n        var message = new $root.ContentChangedEvent();\n        if (object.content != null) {\n            if (typeof object.content !== \"object\")\n                throw TypeError(\".ContentChangedEvent.content: object expected\");\n            message.content = $root.Content.fromObject(object.content);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ContentChangedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ContentChangedEvent\n     * @static\n     * @param {ContentChangedEvent} message ContentChangedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ContentChangedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.content = null;\n        if (message.content != null && message.hasOwnProperty(\"content\"))\n            object.content = $root.Content.toObject(message.content, options);\n        return object;\n    };\n\n    /**\n     * Converts this ContentChangedEvent to JSON.\n     * @function toJSON\n     * @memberof ContentChangedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ContentChangedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ContentChangedEvent;\n})();\n\n$root.ActivityStreamIdChangedEvent = (function() {\n\n    /**\n     * Properties of an ActivityStreamIdChangedEvent.\n     * @exports IActivityStreamIdChangedEvent\n     * @interface IActivityStreamIdChangedEvent\n     * @property {string|null} [deviceId] ActivityStreamIdChangedEvent deviceId\n     * @property {string|null} [activityStreamId] ActivityStreamIdChangedEvent activityStreamId\n     */\n\n    /**\n     * Constructs a new ActivityStreamIdChangedEvent.\n     * @exports ActivityStreamIdChangedEvent\n     * @classdesc Represents an ActivityStreamIdChangedEvent.\n     * @implements IActivityStreamIdChangedEvent\n     * @constructor\n     * @param {IActivityStreamIdChangedEvent=} [properties] Properties to set\n     */\n    function ActivityStreamIdChangedEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ActivityStreamIdChangedEvent deviceId.\n     * @member {string} deviceId\n     * @memberof ActivityStreamIdChangedEvent\n     * @instance\n     */\n    ActivityStreamIdChangedEvent.prototype.deviceId = \"\";\n\n    /**\n     * ActivityStreamIdChangedEvent activityStreamId.\n     * @member {string} activityStreamId\n     * @memberof ActivityStreamIdChangedEvent\n     * @instance\n     */\n    ActivityStreamIdChangedEvent.prototype.activityStreamId = \"\";\n\n    /**\n     * Creates a new ActivityStreamIdChangedEvent instance using the specified properties.\n     * @function create\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {IActivityStreamIdChangedEvent=} [properties] Properties to set\n     * @returns {ActivityStreamIdChangedEvent} ActivityStreamIdChangedEvent instance\n     */\n    ActivityStreamIdChangedEvent.create = function create(properties) {\n        return new ActivityStreamIdChangedEvent(properties);\n    };\n\n    /**\n     * Encodes the specified ActivityStreamIdChangedEvent message. Does not implicitly {@link ActivityStreamIdChangedEvent.verify|verify} messages.\n     * @function encode\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {IActivityStreamIdChangedEvent} message ActivityStreamIdChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ActivityStreamIdChangedEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.deviceId != null && Object.hasOwnProperty.call(message, \"deviceId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.deviceId);\n        if (message.activityStreamId != null && Object.hasOwnProperty.call(message, \"activityStreamId\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.activityStreamId);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ActivityStreamIdChangedEvent message, length delimited. Does not implicitly {@link ActivityStreamIdChangedEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {IActivityStreamIdChangedEvent} message ActivityStreamIdChangedEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ActivityStreamIdChangedEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes an ActivityStreamIdChangedEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ActivityStreamIdChangedEvent} ActivityStreamIdChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ActivityStreamIdChangedEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ActivityStreamIdChangedEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.deviceId = reader.string();\n                break;\n            case 2:\n                message.activityStreamId = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes an ActivityStreamIdChangedEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ActivityStreamIdChangedEvent} ActivityStreamIdChangedEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ActivityStreamIdChangedEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies an ActivityStreamIdChangedEvent message.\n     * @function verify\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ActivityStreamIdChangedEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            if (!$util.isString(message.deviceId))\n                return \"deviceId: string expected\";\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            if (!$util.isString(message.activityStreamId))\n                return \"activityStreamId: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates an ActivityStreamIdChangedEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ActivityStreamIdChangedEvent} ActivityStreamIdChangedEvent\n     */\n    ActivityStreamIdChangedEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.ActivityStreamIdChangedEvent)\n            return object;\n        var message = new $root.ActivityStreamIdChangedEvent();\n        if (object.deviceId != null)\n            message.deviceId = String(object.deviceId);\n        if (object.activityStreamId != null)\n            message.activityStreamId = String(object.activityStreamId);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from an ActivityStreamIdChangedEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ActivityStreamIdChangedEvent\n     * @static\n     * @param {ActivityStreamIdChangedEvent} message ActivityStreamIdChangedEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ActivityStreamIdChangedEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.deviceId = \"\";\n            object.activityStreamId = \"\";\n        }\n        if (message.deviceId != null && message.hasOwnProperty(\"deviceId\"))\n            object.deviceId = message.deviceId;\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            object.activityStreamId = message.activityStreamId;\n        return object;\n    };\n\n    /**\n     * Converts this ActivityStreamIdChangedEvent to JSON.\n     * @function toJSON\n     * @memberof ActivityStreamIdChangedEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ActivityStreamIdChangedEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ActivityStreamIdChangedEvent;\n})();\n\n$root.TrophyRewardedToUserEvent = (function() {\n\n    /**\n     * Properties of a TrophyRewardedToUserEvent.\n     * @exports ITrophyRewardedToUserEvent\n     * @interface ITrophyRewardedToUserEvent\n     * @property {string|null} [userId] TrophyRewardedToUserEvent userId\n     * @property {ITrophy|null} [trophy] TrophyRewardedToUserEvent trophy\n     */\n\n    /**\n     * Constructs a new TrophyRewardedToUserEvent.\n     * @exports TrophyRewardedToUserEvent\n     * @classdesc Represents a TrophyRewardedToUserEvent.\n     * @implements ITrophyRewardedToUserEvent\n     * @constructor\n     * @param {ITrophyRewardedToUserEvent=} [properties] Properties to set\n     */\n    function TrophyRewardedToUserEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * TrophyRewardedToUserEvent userId.\n     * @member {string} userId\n     * @memberof TrophyRewardedToUserEvent\n     * @instance\n     */\n    TrophyRewardedToUserEvent.prototype.userId = \"\";\n\n    /**\n     * TrophyRewardedToUserEvent trophy.\n     * @member {ITrophy|null|undefined} trophy\n     * @memberof TrophyRewardedToUserEvent\n     * @instance\n     */\n    TrophyRewardedToUserEvent.prototype.trophy = null;\n\n    /**\n     * Creates a new TrophyRewardedToUserEvent instance using the specified properties.\n     * @function create\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {ITrophyRewardedToUserEvent=} [properties] Properties to set\n     * @returns {TrophyRewardedToUserEvent} TrophyRewardedToUserEvent instance\n     */\n    TrophyRewardedToUserEvent.create = function create(properties) {\n        return new TrophyRewardedToUserEvent(properties);\n    };\n\n    /**\n     * Encodes the specified TrophyRewardedToUserEvent message. Does not implicitly {@link TrophyRewardedToUserEvent.verify|verify} messages.\n     * @function encode\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {ITrophyRewardedToUserEvent} message TrophyRewardedToUserEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    TrophyRewardedToUserEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.userId != null && Object.hasOwnProperty.call(message, \"userId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.userId);\n        if (message.trophy != null && Object.hasOwnProperty.call(message, \"trophy\"))\n            $root.Trophy.encode(message.trophy, writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified TrophyRewardedToUserEvent message, length delimited. Does not implicitly {@link TrophyRewardedToUserEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {ITrophyRewardedToUserEvent} message TrophyRewardedToUserEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    TrophyRewardedToUserEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a TrophyRewardedToUserEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {TrophyRewardedToUserEvent} TrophyRewardedToUserEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    TrophyRewardedToUserEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.TrophyRewardedToUserEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.userId = reader.string();\n                break;\n            case 2:\n                message.trophy = $root.Trophy.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a TrophyRewardedToUserEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {TrophyRewardedToUserEvent} TrophyRewardedToUserEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    TrophyRewardedToUserEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a TrophyRewardedToUserEvent message.\n     * @function verify\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    TrophyRewardedToUserEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            if (!$util.isString(message.userId))\n                return \"userId: string expected\";\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\")) {\n            var error = $root.Trophy.verify(message.trophy);\n            if (error)\n                return \"trophy.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a TrophyRewardedToUserEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {TrophyRewardedToUserEvent} TrophyRewardedToUserEvent\n     */\n    TrophyRewardedToUserEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.TrophyRewardedToUserEvent)\n            return object;\n        var message = new $root.TrophyRewardedToUserEvent();\n        if (object.userId != null)\n            message.userId = String(object.userId);\n        if (object.trophy != null) {\n            if (typeof object.trophy !== \"object\")\n                throw TypeError(\".TrophyRewardedToUserEvent.trophy: object expected\");\n            message.trophy = $root.Trophy.fromObject(object.trophy);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a TrophyRewardedToUserEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof TrophyRewardedToUserEvent\n     * @static\n     * @param {TrophyRewardedToUserEvent} message TrophyRewardedToUserEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    TrophyRewardedToUserEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.userId = \"\";\n            object.trophy = null;\n        }\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            object.userId = message.userId;\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\"))\n            object.trophy = $root.Trophy.toObject(message.trophy, options);\n        return object;\n    };\n\n    /**\n     * Converts this TrophyRewardedToUserEvent to JSON.\n     * @function toJSON\n     * @memberof TrophyRewardedToUserEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    TrophyRewardedToUserEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return TrophyRewardedToUserEvent;\n})();\n\n$root.TrophyRewardedToAllEvent = (function() {\n\n    /**\n     * Properties of a TrophyRewardedToAllEvent.\n     * @exports ITrophyRewardedToAllEvent\n     * @interface ITrophyRewardedToAllEvent\n     * @property {ITrophy|null} [trophy] TrophyRewardedToAllEvent trophy\n     */\n\n    /**\n     * Constructs a new TrophyRewardedToAllEvent.\n     * @exports TrophyRewardedToAllEvent\n     * @classdesc Represents a TrophyRewardedToAllEvent.\n     * @implements ITrophyRewardedToAllEvent\n     * @constructor\n     * @param {ITrophyRewardedToAllEvent=} [properties] Properties to set\n     */\n    function TrophyRewardedToAllEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * TrophyRewardedToAllEvent trophy.\n     * @member {ITrophy|null|undefined} trophy\n     * @memberof TrophyRewardedToAllEvent\n     * @instance\n     */\n    TrophyRewardedToAllEvent.prototype.trophy = null;\n\n    /**\n     * Creates a new TrophyRewardedToAllEvent instance using the specified properties.\n     * @function create\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {ITrophyRewardedToAllEvent=} [properties] Properties to set\n     * @returns {TrophyRewardedToAllEvent} TrophyRewardedToAllEvent instance\n     */\n    TrophyRewardedToAllEvent.create = function create(properties) {\n        return new TrophyRewardedToAllEvent(properties);\n    };\n\n    /**\n     * Encodes the specified TrophyRewardedToAllEvent message. Does not implicitly {@link TrophyRewardedToAllEvent.verify|verify} messages.\n     * @function encode\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {ITrophyRewardedToAllEvent} message TrophyRewardedToAllEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    TrophyRewardedToAllEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.trophy != null && Object.hasOwnProperty.call(message, \"trophy\"))\n            $root.Trophy.encode(message.trophy, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified TrophyRewardedToAllEvent message, length delimited. Does not implicitly {@link TrophyRewardedToAllEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {ITrophyRewardedToAllEvent} message TrophyRewardedToAllEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    TrophyRewardedToAllEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a TrophyRewardedToAllEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {TrophyRewardedToAllEvent} TrophyRewardedToAllEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    TrophyRewardedToAllEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.TrophyRewardedToAllEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.trophy = $root.Trophy.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a TrophyRewardedToAllEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {TrophyRewardedToAllEvent} TrophyRewardedToAllEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    TrophyRewardedToAllEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a TrophyRewardedToAllEvent message.\n     * @function verify\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    TrophyRewardedToAllEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\")) {\n            var error = $root.Trophy.verify(message.trophy);\n            if (error)\n                return \"trophy.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a TrophyRewardedToAllEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {TrophyRewardedToAllEvent} TrophyRewardedToAllEvent\n     */\n    TrophyRewardedToAllEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.TrophyRewardedToAllEvent)\n            return object;\n        var message = new $root.TrophyRewardedToAllEvent();\n        if (object.trophy != null) {\n            if (typeof object.trophy !== \"object\")\n                throw TypeError(\".TrophyRewardedToAllEvent.trophy: object expected\");\n            message.trophy = $root.Trophy.fromObject(object.trophy);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a TrophyRewardedToAllEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof TrophyRewardedToAllEvent\n     * @static\n     * @param {TrophyRewardedToAllEvent} message TrophyRewardedToAllEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    TrophyRewardedToAllEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.trophy = null;\n        if (message.trophy != null && message.hasOwnProperty(\"trophy\"))\n            object.trophy = $root.Trophy.toObject(message.trophy, options);\n        return object;\n    };\n\n    /**\n     * Converts this TrophyRewardedToAllEvent to JSON.\n     * @function toJSON\n     * @memberof TrophyRewardedToAllEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    TrophyRewardedToAllEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return TrophyRewardedToAllEvent;\n})();\n\n$root.NewChatMessageEvent = (function() {\n\n    /**\n     * Properties of a NewChatMessageEvent.\n     * @exports INewChatMessageEvent\n     * @interface INewChatMessageEvent\n     * @property {IChatMessage|null} [chatMessage] NewChatMessageEvent chatMessage\n     */\n\n    /**\n     * Constructs a new NewChatMessageEvent.\n     * @exports NewChatMessageEvent\n     * @classdesc Represents a NewChatMessageEvent.\n     * @implements INewChatMessageEvent\n     * @constructor\n     * @param {INewChatMessageEvent=} [properties] Properties to set\n     */\n    function NewChatMessageEvent(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * NewChatMessageEvent chatMessage.\n     * @member {IChatMessage|null|undefined} chatMessage\n     * @memberof NewChatMessageEvent\n     * @instance\n     */\n    NewChatMessageEvent.prototype.chatMessage = null;\n\n    /**\n     * Creates a new NewChatMessageEvent instance using the specified properties.\n     * @function create\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {INewChatMessageEvent=} [properties] Properties to set\n     * @returns {NewChatMessageEvent} NewChatMessageEvent instance\n     */\n    NewChatMessageEvent.create = function create(properties) {\n        return new NewChatMessageEvent(properties);\n    };\n\n    /**\n     * Encodes the specified NewChatMessageEvent message. Does not implicitly {@link NewChatMessageEvent.verify|verify} messages.\n     * @function encode\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {INewChatMessageEvent} message NewChatMessageEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    NewChatMessageEvent.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.chatMessage != null && Object.hasOwnProperty.call(message, \"chatMessage\"))\n            $root.ChatMessage.encode(message.chatMessage, writer.uint32(/* id 1, wireType 2 =*/10).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified NewChatMessageEvent message, length delimited. Does not implicitly {@link NewChatMessageEvent.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {INewChatMessageEvent} message NewChatMessageEvent message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    NewChatMessageEvent.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a NewChatMessageEvent message from the specified reader or buffer.\n     * @function decode\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {NewChatMessageEvent} NewChatMessageEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    NewChatMessageEvent.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.NewChatMessageEvent();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.chatMessage = $root.ChatMessage.decode(reader, reader.uint32());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a NewChatMessageEvent message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {NewChatMessageEvent} NewChatMessageEvent\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    NewChatMessageEvent.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a NewChatMessageEvent message.\n     * @function verify\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    NewChatMessageEvent.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.chatMessage != null && message.hasOwnProperty(\"chatMessage\")) {\n            var error = $root.ChatMessage.verify(message.chatMessage);\n            if (error)\n                return \"chatMessage.\" + error;\n        }\n        return null;\n    };\n\n    /**\n     * Creates a NewChatMessageEvent message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {NewChatMessageEvent} NewChatMessageEvent\n     */\n    NewChatMessageEvent.fromObject = function fromObject(object) {\n        if (object instanceof $root.NewChatMessageEvent)\n            return object;\n        var message = new $root.NewChatMessageEvent();\n        if (object.chatMessage != null) {\n            if (typeof object.chatMessage !== \"object\")\n                throw TypeError(\".NewChatMessageEvent.chatMessage: object expected\");\n            message.chatMessage = $root.ChatMessage.fromObject(object.chatMessage);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a NewChatMessageEvent message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof NewChatMessageEvent\n     * @static\n     * @param {NewChatMessageEvent} message NewChatMessageEvent\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    NewChatMessageEvent.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults)\n            object.chatMessage = null;\n        if (message.chatMessage != null && message.hasOwnProperty(\"chatMessage\"))\n            object.chatMessage = $root.ChatMessage.toObject(message.chatMessage, options);\n        return object;\n    };\n\n    /**\n     * Converts this NewChatMessageEvent to JSON.\n     * @function toJSON\n     * @memberof NewChatMessageEvent\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    NewChatMessageEvent.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return NewChatMessageEvent;\n})();\n\n$root.ClassState = (function() {\n\n    /**\n     * Properties of a ClassState.\n     * @exports IClassState\n     * @interface IClassState\n     * @property {Object.<string,IUser>|null} [users] ClassState users\n     * @property {Object.<string,IDevice>|null} [devices] ClassState devices\n     * @property {Array.<IChatMessage>|null} [chatMessages] ClassState chatMessages\n     * @property {IContent|null} [content] ClassState content\n     * @property {string|null} [hostDeviceId] ClassState hostDeviceId\n     * @property {number|Long|null} [classEndedTime] ClassState classEndedTime\n     */\n\n    /**\n     * Constructs a new ClassState.\n     * @exports ClassState\n     * @classdesc Represents a ClassState.\n     * @implements IClassState\n     * @constructor\n     * @param {IClassState=} [properties] Properties to set\n     */\n    function ClassState(properties) {\n        this.users = {};\n        this.devices = {};\n        this.chatMessages = [];\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ClassState users.\n     * @member {Object.<string,IUser>} users\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.users = $util.emptyObject;\n\n    /**\n     * ClassState devices.\n     * @member {Object.<string,IDevice>} devices\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.devices = $util.emptyObject;\n\n    /**\n     * ClassState chatMessages.\n     * @member {Array.<IChatMessage>} chatMessages\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.chatMessages = $util.emptyArray;\n\n    /**\n     * ClassState content.\n     * @member {IContent|null|undefined} content\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.content = null;\n\n    /**\n     * ClassState hostDeviceId.\n     * @member {string} hostDeviceId\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.hostDeviceId = \"\";\n\n    /**\n     * ClassState classEndedTime.\n     * @member {number|Long} classEndedTime\n     * @memberof ClassState\n     * @instance\n     */\n    ClassState.prototype.classEndedTime = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * Creates a new ClassState instance using the specified properties.\n     * @function create\n     * @memberof ClassState\n     * @static\n     * @param {IClassState=} [properties] Properties to set\n     * @returns {ClassState} ClassState instance\n     */\n    ClassState.create = function create(properties) {\n        return new ClassState(properties);\n    };\n\n    /**\n     * Encodes the specified ClassState message. Does not implicitly {@link ClassState.verify|verify} messages.\n     * @function encode\n     * @memberof ClassState\n     * @static\n     * @param {IClassState} message ClassState message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassState.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.users != null && Object.hasOwnProperty.call(message, \"users\"))\n            for (var keys = Object.keys(message.users), i = 0; i < keys.length; ++i) {\n                writer.uint32(/* id 1, wireType 2 =*/10).fork().uint32(/* id 1, wireType 2 =*/10).string(keys[i]);\n                $root.User.encode(message.users[keys[i]], writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim().ldelim();\n            }\n        if (message.devices != null && Object.hasOwnProperty.call(message, \"devices\"))\n            for (var keys = Object.keys(message.devices), i = 0; i < keys.length; ++i) {\n                writer.uint32(/* id 2, wireType 2 =*/18).fork().uint32(/* id 1, wireType 2 =*/10).string(keys[i]);\n                $root.Device.encode(message.devices[keys[i]], writer.uint32(/* id 2, wireType 2 =*/18).fork()).ldelim().ldelim();\n            }\n        if (message.chatMessages != null && message.chatMessages.length)\n            for (var i = 0; i < message.chatMessages.length; ++i)\n                $root.ChatMessage.encode(message.chatMessages[i], writer.uint32(/* id 3, wireType 2 =*/26).fork()).ldelim();\n        if (message.content != null && Object.hasOwnProperty.call(message, \"content\"))\n            $root.Content.encode(message.content, writer.uint32(/* id 4, wireType 2 =*/34).fork()).ldelim();\n        if (message.hostDeviceId != null && Object.hasOwnProperty.call(message, \"hostDeviceId\"))\n            writer.uint32(/* id 5, wireType 2 =*/42).string(message.hostDeviceId);\n        if (message.classEndedTime != null && Object.hasOwnProperty.call(message, \"classEndedTime\"))\n            writer.uint32(/* id 6, wireType 0 =*/48).uint64(message.classEndedTime);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ClassState message, length delimited. Does not implicitly {@link ClassState.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ClassState\n     * @static\n     * @param {IClassState} message ClassState message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ClassState.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ClassState message from the specified reader or buffer.\n     * @function decode\n     * @memberof ClassState\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ClassState} ClassState\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassState.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ClassState(), key, value;\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                if (message.users === $util.emptyObject)\n                    message.users = {};\n                var end2 = reader.uint32() + reader.pos;\n                key = \"\";\n                value = null;\n                while (reader.pos < end2) {\n                    var tag2 = reader.uint32();\n                    switch (tag2 >>> 3) {\n                    case 1:\n                        key = reader.string();\n                        break;\n                    case 2:\n                        value = $root.User.decode(reader, reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag2 & 7);\n                        break;\n                    }\n                }\n                message.users[key] = value;\n                break;\n            case 2:\n                if (message.devices === $util.emptyObject)\n                    message.devices = {};\n                var end2 = reader.uint32() + reader.pos;\n                key = \"\";\n                value = null;\n                while (reader.pos < end2) {\n                    var tag2 = reader.uint32();\n                    switch (tag2 >>> 3) {\n                    case 1:\n                        key = reader.string();\n                        break;\n                    case 2:\n                        value = $root.Device.decode(reader, reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag2 & 7);\n                        break;\n                    }\n                }\n                message.devices[key] = value;\n                break;\n            case 3:\n                if (!(message.chatMessages && message.chatMessages.length))\n                    message.chatMessages = [];\n                message.chatMessages.push($root.ChatMessage.decode(reader, reader.uint32()));\n                break;\n            case 4:\n                message.content = $root.Content.decode(reader, reader.uint32());\n                break;\n            case 5:\n                message.hostDeviceId = reader.string();\n                break;\n            case 6:\n                message.classEndedTime = reader.uint64();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ClassState message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ClassState\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ClassState} ClassState\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ClassState.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ClassState message.\n     * @function verify\n     * @memberof ClassState\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ClassState.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.users != null && message.hasOwnProperty(\"users\")) {\n            if (!$util.isObject(message.users))\n                return \"users: object expected\";\n            var key = Object.keys(message.users);\n            for (var i = 0; i < key.length; ++i) {\n                var error = $root.User.verify(message.users[key[i]]);\n                if (error)\n                    return \"users.\" + error;\n            }\n        }\n        if (message.devices != null && message.hasOwnProperty(\"devices\")) {\n            if (!$util.isObject(message.devices))\n                return \"devices: object expected\";\n            var key = Object.keys(message.devices);\n            for (var i = 0; i < key.length; ++i) {\n                var error = $root.Device.verify(message.devices[key[i]]);\n                if (error)\n                    return \"devices.\" + error;\n            }\n        }\n        if (message.chatMessages != null && message.hasOwnProperty(\"chatMessages\")) {\n            if (!Array.isArray(message.chatMessages))\n                return \"chatMessages: array expected\";\n            for (var i = 0; i < message.chatMessages.length; ++i) {\n                var error = $root.ChatMessage.verify(message.chatMessages[i]);\n                if (error)\n                    return \"chatMessages.\" + error;\n            }\n        }\n        if (message.content != null && message.hasOwnProperty(\"content\")) {\n            var error = $root.Content.verify(message.content);\n            if (error)\n                return \"content.\" + error;\n        }\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            if (!$util.isString(message.hostDeviceId))\n                return \"hostDeviceId: string expected\";\n        if (message.classEndedTime != null && message.hasOwnProperty(\"classEndedTime\"))\n            if (!$util.isInteger(message.classEndedTime) && !(message.classEndedTime && $util.isInteger(message.classEndedTime.low) && $util.isInteger(message.classEndedTime.high)))\n                return \"classEndedTime: integer|Long expected\";\n        return null;\n    };\n\n    /**\n     * Creates a ClassState message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ClassState\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ClassState} ClassState\n     */\n    ClassState.fromObject = function fromObject(object) {\n        if (object instanceof $root.ClassState)\n            return object;\n        var message = new $root.ClassState();\n        if (object.users) {\n            if (typeof object.users !== \"object\")\n                throw TypeError(\".ClassState.users: object expected\");\n            message.users = {};\n            for (var keys = Object.keys(object.users), i = 0; i < keys.length; ++i) {\n                if (typeof object.users[keys[i]] !== \"object\")\n                    throw TypeError(\".ClassState.users: object expected\");\n                message.users[keys[i]] = $root.User.fromObject(object.users[keys[i]]);\n            }\n        }\n        if (object.devices) {\n            if (typeof object.devices !== \"object\")\n                throw TypeError(\".ClassState.devices: object expected\");\n            message.devices = {};\n            for (var keys = Object.keys(object.devices), i = 0; i < keys.length; ++i) {\n                if (typeof object.devices[keys[i]] !== \"object\")\n                    throw TypeError(\".ClassState.devices: object expected\");\n                message.devices[keys[i]] = $root.Device.fromObject(object.devices[keys[i]]);\n            }\n        }\n        if (object.chatMessages) {\n            if (!Array.isArray(object.chatMessages))\n                throw TypeError(\".ClassState.chatMessages: array expected\");\n            message.chatMessages = [];\n            for (var i = 0; i < object.chatMessages.length; ++i) {\n                if (typeof object.chatMessages[i] !== \"object\")\n                    throw TypeError(\".ClassState.chatMessages: object expected\");\n                message.chatMessages[i] = $root.ChatMessage.fromObject(object.chatMessages[i]);\n            }\n        }\n        if (object.content != null) {\n            if (typeof object.content !== \"object\")\n                throw TypeError(\".ClassState.content: object expected\");\n            message.content = $root.Content.fromObject(object.content);\n        }\n        if (object.hostDeviceId != null)\n            message.hostDeviceId = String(object.hostDeviceId);\n        if (object.classEndedTime != null)\n            if ($util.Long)\n                (message.classEndedTime = $util.Long.fromValue(object.classEndedTime)).unsigned = true;\n            else if (typeof object.classEndedTime === \"string\")\n                message.classEndedTime = parseInt(object.classEndedTime, 10);\n            else if (typeof object.classEndedTime === \"number\")\n                message.classEndedTime = object.classEndedTime;\n            else if (typeof object.classEndedTime === \"object\")\n                message.classEndedTime = new $util.LongBits(object.classEndedTime.low >>> 0, object.classEndedTime.high >>> 0).toNumber(true);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ClassState message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ClassState\n     * @static\n     * @param {ClassState} message ClassState\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ClassState.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.arrays || options.defaults)\n            object.chatMessages = [];\n        if (options.objects || options.defaults) {\n            object.users = {};\n            object.devices = {};\n        }\n        if (options.defaults) {\n            object.content = null;\n            object.hostDeviceId = \"\";\n            if ($util.Long) {\n                var long = new $util.Long(0, 0, true);\n                object.classEndedTime = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;\n            } else\n                object.classEndedTime = options.longs === String ? \"0\" : 0;\n        }\n        var keys2;\n        if (message.users && (keys2 = Object.keys(message.users)).length) {\n            object.users = {};\n            for (var j = 0; j < keys2.length; ++j)\n                object.users[keys2[j]] = $root.User.toObject(message.users[keys2[j]], options);\n        }\n        if (message.devices && (keys2 = Object.keys(message.devices)).length) {\n            object.devices = {};\n            for (var j = 0; j < keys2.length; ++j)\n                object.devices[keys2[j]] = $root.Device.toObject(message.devices[keys2[j]], options);\n        }\n        if (message.chatMessages && message.chatMessages.length) {\n            object.chatMessages = [];\n            for (var j = 0; j < message.chatMessages.length; ++j)\n                object.chatMessages[j] = $root.ChatMessage.toObject(message.chatMessages[j], options);\n        }\n        if (message.content != null && message.hasOwnProperty(\"content\"))\n            object.content = $root.Content.toObject(message.content, options);\n        if (message.hostDeviceId != null && message.hasOwnProperty(\"hostDeviceId\"))\n            object.hostDeviceId = message.hostDeviceId;\n        if (message.classEndedTime != null && message.hasOwnProperty(\"classEndedTime\"))\n            if (typeof message.classEndedTime === \"number\")\n                object.classEndedTime = options.longs === String ? String(message.classEndedTime) : message.classEndedTime;\n            else\n                object.classEndedTime = options.longs === String ? $util.Long.prototype.toString.call(message.classEndedTime) : options.longs === Number ? new $util.LongBits(message.classEndedTime.low >>> 0, message.classEndedTime.high >>> 0).toNumber(true) : message.classEndedTime;\n        return object;\n    };\n\n    /**\n     * Converts this ClassState to JSON.\n     * @function toJSON\n     * @memberof ClassState\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ClassState.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ClassState;\n})();\n\n$root.User = (function() {\n\n    /**\n     * Properties of a User.\n     * @exports IUser\n     * @interface IUser\n     * @property {string|null} [id] User id\n     * @property {string|null} [name] User name\n     * @property {string|null} [role] User role\n     * @property {Array.<string>|null} [deviceIds] User deviceIds\n     * @property {Array.<ITrophy>|null} [trophies] User trophies\n     */\n\n    /**\n     * Constructs a new User.\n     * @exports User\n     * @classdesc Represents a User.\n     * @implements IUser\n     * @constructor\n     * @param {IUser=} [properties] Properties to set\n     */\n    function User(properties) {\n        this.deviceIds = [];\n        this.trophies = [];\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * User id.\n     * @member {string} id\n     * @memberof User\n     * @instance\n     */\n    User.prototype.id = \"\";\n\n    /**\n     * User name.\n     * @member {string} name\n     * @memberof User\n     * @instance\n     */\n    User.prototype.name = \"\";\n\n    /**\n     * User role.\n     * @member {string} role\n     * @memberof User\n     * @instance\n     */\n    User.prototype.role = \"\";\n\n    /**\n     * User deviceIds.\n     * @member {Array.<string>} deviceIds\n     * @memberof User\n     * @instance\n     */\n    User.prototype.deviceIds = $util.emptyArray;\n\n    /**\n     * User trophies.\n     * @member {Array.<ITrophy>} trophies\n     * @memberof User\n     * @instance\n     */\n    User.prototype.trophies = $util.emptyArray;\n\n    /**\n     * Creates a new User instance using the specified properties.\n     * @function create\n     * @memberof User\n     * @static\n     * @param {IUser=} [properties] Properties to set\n     * @returns {User} User instance\n     */\n    User.create = function create(properties) {\n        return new User(properties);\n    };\n\n    /**\n     * Encodes the specified User message. Does not implicitly {@link User.verify|verify} messages.\n     * @function encode\n     * @memberof User\n     * @static\n     * @param {IUser} message User message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    User.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.id != null && Object.hasOwnProperty.call(message, \"id\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.id);\n        if (message.name != null && Object.hasOwnProperty.call(message, \"name\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.name);\n        if (message.role != null && Object.hasOwnProperty.call(message, \"role\"))\n            writer.uint32(/* id 3, wireType 2 =*/26).string(message.role);\n        if (message.deviceIds != null && message.deviceIds.length)\n            for (var i = 0; i < message.deviceIds.length; ++i)\n                writer.uint32(/* id 4, wireType 2 =*/34).string(message.deviceIds[i]);\n        if (message.trophies != null && message.trophies.length)\n            for (var i = 0; i < message.trophies.length; ++i)\n                $root.Trophy.encode(message.trophies[i], writer.uint32(/* id 5, wireType 2 =*/42).fork()).ldelim();\n        return writer;\n    };\n\n    /**\n     * Encodes the specified User message, length delimited. Does not implicitly {@link User.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof User\n     * @static\n     * @param {IUser} message User message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    User.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a User message from the specified reader or buffer.\n     * @function decode\n     * @memberof User\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {User} User\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    User.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.User();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.id = reader.string();\n                break;\n            case 2:\n                message.name = reader.string();\n                break;\n            case 3:\n                message.role = reader.string();\n                break;\n            case 4:\n                if (!(message.deviceIds && message.deviceIds.length))\n                    message.deviceIds = [];\n                message.deviceIds.push(reader.string());\n                break;\n            case 5:\n                if (!(message.trophies && message.trophies.length))\n                    message.trophies = [];\n                message.trophies.push($root.Trophy.decode(reader, reader.uint32()));\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a User message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof User\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {User} User\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    User.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a User message.\n     * @function verify\n     * @memberof User\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    User.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            if (!$util.isString(message.id))\n                return \"id: string expected\";\n        if (message.name != null && message.hasOwnProperty(\"name\"))\n            if (!$util.isString(message.name))\n                return \"name: string expected\";\n        if (message.role != null && message.hasOwnProperty(\"role\"))\n            if (!$util.isString(message.role))\n                return \"role: string expected\";\n        if (message.deviceIds != null && message.hasOwnProperty(\"deviceIds\")) {\n            if (!Array.isArray(message.deviceIds))\n                return \"deviceIds: array expected\";\n            for (var i = 0; i < message.deviceIds.length; ++i)\n                if (!$util.isString(message.deviceIds[i]))\n                    return \"deviceIds: string[] expected\";\n        }\n        if (message.trophies != null && message.hasOwnProperty(\"trophies\")) {\n            if (!Array.isArray(message.trophies))\n                return \"trophies: array expected\";\n            for (var i = 0; i < message.trophies.length; ++i) {\n                var error = $root.Trophy.verify(message.trophies[i]);\n                if (error)\n                    return \"trophies.\" + error;\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Creates a User message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof User\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {User} User\n     */\n    User.fromObject = function fromObject(object) {\n        if (object instanceof $root.User)\n            return object;\n        var message = new $root.User();\n        if (object.id != null)\n            message.id = String(object.id);\n        if (object.name != null)\n            message.name = String(object.name);\n        if (object.role != null)\n            message.role = String(object.role);\n        if (object.deviceIds) {\n            if (!Array.isArray(object.deviceIds))\n                throw TypeError(\".User.deviceIds: array expected\");\n            message.deviceIds = [];\n            for (var i = 0; i < object.deviceIds.length; ++i)\n                message.deviceIds[i] = String(object.deviceIds[i]);\n        }\n        if (object.trophies) {\n            if (!Array.isArray(object.trophies))\n                throw TypeError(\".User.trophies: array expected\");\n            message.trophies = [];\n            for (var i = 0; i < object.trophies.length; ++i) {\n                if (typeof object.trophies[i] !== \"object\")\n                    throw TypeError(\".User.trophies: object expected\");\n                message.trophies[i] = $root.Trophy.fromObject(object.trophies[i]);\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a User message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof User\n     * @static\n     * @param {User} message User\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    User.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.arrays || options.defaults) {\n            object.deviceIds = [];\n            object.trophies = [];\n        }\n        if (options.defaults) {\n            object.id = \"\";\n            object.name = \"\";\n            object.role = \"\";\n        }\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            object.id = message.id;\n        if (message.name != null && message.hasOwnProperty(\"name\"))\n            object.name = message.name;\n        if (message.role != null && message.hasOwnProperty(\"role\"))\n            object.role = message.role;\n        if (message.deviceIds && message.deviceIds.length) {\n            object.deviceIds = [];\n            for (var j = 0; j < message.deviceIds.length; ++j)\n                object.deviceIds[j] = message.deviceIds[j];\n        }\n        if (message.trophies && message.trophies.length) {\n            object.trophies = [];\n            for (var j = 0; j < message.trophies.length; ++j)\n                object.trophies[j] = $root.Trophy.toObject(message.trophies[j], options);\n        }\n        return object;\n    };\n\n    /**\n     * Converts this User to JSON.\n     * @function toJSON\n     * @memberof User\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    User.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return User;\n})();\n\n$root.Trophy = (function() {\n\n    /**\n     * Properties of a Trophy.\n     * @exports ITrophy\n     * @interface ITrophy\n     * @property {number|Long|null} [timestamp] Trophy timestamp\n     * @property {string|null} [type] Trophy type\n     */\n\n    /**\n     * Constructs a new Trophy.\n     * @exports Trophy\n     * @classdesc Represents a Trophy.\n     * @implements ITrophy\n     * @constructor\n     * @param {ITrophy=} [properties] Properties to set\n     */\n    function Trophy(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * Trophy timestamp.\n     * @member {number|Long} timestamp\n     * @memberof Trophy\n     * @instance\n     */\n    Trophy.prototype.timestamp = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * Trophy type.\n     * @member {string} type\n     * @memberof Trophy\n     * @instance\n     */\n    Trophy.prototype.type = \"\";\n\n    /**\n     * Creates a new Trophy instance using the specified properties.\n     * @function create\n     * @memberof Trophy\n     * @static\n     * @param {ITrophy=} [properties] Properties to set\n     * @returns {Trophy} Trophy instance\n     */\n    Trophy.create = function create(properties) {\n        return new Trophy(properties);\n    };\n\n    /**\n     * Encodes the specified Trophy message. Does not implicitly {@link Trophy.verify|verify} messages.\n     * @function encode\n     * @memberof Trophy\n     * @static\n     * @param {ITrophy} message Trophy message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Trophy.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.timestamp != null && Object.hasOwnProperty.call(message, \"timestamp\"))\n            writer.uint32(/* id 1, wireType 0 =*/8).uint64(message.timestamp);\n        if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.type);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified Trophy message, length delimited. Does not implicitly {@link Trophy.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof Trophy\n     * @static\n     * @param {ITrophy} message Trophy message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Trophy.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a Trophy message from the specified reader or buffer.\n     * @function decode\n     * @memberof Trophy\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {Trophy} Trophy\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Trophy.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.Trophy();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.timestamp = reader.uint64();\n                break;\n            case 2:\n                message.type = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a Trophy message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof Trophy\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {Trophy} Trophy\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Trophy.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a Trophy message.\n     * @function verify\n     * @memberof Trophy\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    Trophy.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (!$util.isInteger(message.timestamp) && !(message.timestamp && $util.isInteger(message.timestamp.low) && $util.isInteger(message.timestamp.high)))\n                return \"timestamp: integer|Long expected\";\n        if (message.type != null && message.hasOwnProperty(\"type\"))\n            if (!$util.isString(message.type))\n                return \"type: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a Trophy message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Trophy\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {Trophy} Trophy\n     */\n    Trophy.fromObject = function fromObject(object) {\n        if (object instanceof $root.Trophy)\n            return object;\n        var message = new $root.Trophy();\n        if (object.timestamp != null)\n            if ($util.Long)\n                (message.timestamp = $util.Long.fromValue(object.timestamp)).unsigned = true;\n            else if (typeof object.timestamp === \"string\")\n                message.timestamp = parseInt(object.timestamp, 10);\n            else if (typeof object.timestamp === \"number\")\n                message.timestamp = object.timestamp;\n            else if (typeof object.timestamp === \"object\")\n                message.timestamp = new $util.LongBits(object.timestamp.low >>> 0, object.timestamp.high >>> 0).toNumber(true);\n        if (object.type != null)\n            message.type = String(object.type);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a Trophy message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Trophy\n     * @static\n     * @param {Trophy} message Trophy\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Trophy.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            if ($util.Long) {\n                var long = new $util.Long(0, 0, true);\n                object.timestamp = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;\n            } else\n                object.timestamp = options.longs === String ? \"0\" : 0;\n            object.type = \"\";\n        }\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (typeof message.timestamp === \"number\")\n                object.timestamp = options.longs === String ? String(message.timestamp) : message.timestamp;\n            else\n                object.timestamp = options.longs === String ? $util.Long.prototype.toString.call(message.timestamp) : options.longs === Number ? new $util.LongBits(message.timestamp.low >>> 0, message.timestamp.high >>> 0).toNumber(true) : message.timestamp;\n        if (message.type != null && message.hasOwnProperty(\"type\"))\n            object.type = message.type;\n        return object;\n    };\n\n    /**\n     * Converts this Trophy to JSON.\n     * @function toJSON\n     * @memberof Trophy\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Trophy.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Trophy;\n})();\n\n$root.Device = (function() {\n\n    /**\n     * Properties of a Device.\n     * @exports IDevice\n     * @interface IDevice\n     * @property {string|null} [id] Device id\n     * @property {string|null} [userId] Device userId\n     * @property {string|null} [activityStreamId] Device activityStreamId\n     * @property {Array.<string>|null} [webRtcStreamIds] Device webRtcStreamIds\n     */\n\n    /**\n     * Constructs a new Device.\n     * @exports Device\n     * @classdesc Represents a Device.\n     * @implements IDevice\n     * @constructor\n     * @param {IDevice=} [properties] Properties to set\n     */\n    function Device(properties) {\n        this.webRtcStreamIds = [];\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * Device id.\n     * @member {string} id\n     * @memberof Device\n     * @instance\n     */\n    Device.prototype.id = \"\";\n\n    /**\n     * Device userId.\n     * @member {string} userId\n     * @memberof Device\n     * @instance\n     */\n    Device.prototype.userId = \"\";\n\n    /**\n     * Device activityStreamId.\n     * @member {string} activityStreamId\n     * @memberof Device\n     * @instance\n     */\n    Device.prototype.activityStreamId = \"\";\n\n    /**\n     * Device webRtcStreamIds.\n     * @member {Array.<string>} webRtcStreamIds\n     * @memberof Device\n     * @instance\n     */\n    Device.prototype.webRtcStreamIds = $util.emptyArray;\n\n    /**\n     * Creates a new Device instance using the specified properties.\n     * @function create\n     * @memberof Device\n     * @static\n     * @param {IDevice=} [properties] Properties to set\n     * @returns {Device} Device instance\n     */\n    Device.create = function create(properties) {\n        return new Device(properties);\n    };\n\n    /**\n     * Encodes the specified Device message. Does not implicitly {@link Device.verify|verify} messages.\n     * @function encode\n     * @memberof Device\n     * @static\n     * @param {IDevice} message Device message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Device.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.id != null && Object.hasOwnProperty.call(message, \"id\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.id);\n        if (message.userId != null && Object.hasOwnProperty.call(message, \"userId\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.userId);\n        if (message.activityStreamId != null && Object.hasOwnProperty.call(message, \"activityStreamId\"))\n            writer.uint32(/* id 3, wireType 2 =*/26).string(message.activityStreamId);\n        if (message.webRtcStreamIds != null && message.webRtcStreamIds.length)\n            for (var i = 0; i < message.webRtcStreamIds.length; ++i)\n                writer.uint32(/* id 4, wireType 2 =*/34).string(message.webRtcStreamIds[i]);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified Device message, length delimited. Does not implicitly {@link Device.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof Device\n     * @static\n     * @param {IDevice} message Device message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Device.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a Device message from the specified reader or buffer.\n     * @function decode\n     * @memberof Device\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {Device} Device\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Device.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.Device();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.id = reader.string();\n                break;\n            case 2:\n                message.userId = reader.string();\n                break;\n            case 3:\n                message.activityStreamId = reader.string();\n                break;\n            case 4:\n                if (!(message.webRtcStreamIds && message.webRtcStreamIds.length))\n                    message.webRtcStreamIds = [];\n                message.webRtcStreamIds.push(reader.string());\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a Device message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof Device\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {Device} Device\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Device.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a Device message.\n     * @function verify\n     * @memberof Device\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    Device.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            if (!$util.isString(message.id))\n                return \"id: string expected\";\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            if (!$util.isString(message.userId))\n                return \"userId: string expected\";\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            if (!$util.isString(message.activityStreamId))\n                return \"activityStreamId: string expected\";\n        if (message.webRtcStreamIds != null && message.hasOwnProperty(\"webRtcStreamIds\")) {\n            if (!Array.isArray(message.webRtcStreamIds))\n                return \"webRtcStreamIds: array expected\";\n            for (var i = 0; i < message.webRtcStreamIds.length; ++i)\n                if (!$util.isString(message.webRtcStreamIds[i]))\n                    return \"webRtcStreamIds: string[] expected\";\n        }\n        return null;\n    };\n\n    /**\n     * Creates a Device message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Device\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {Device} Device\n     */\n    Device.fromObject = function fromObject(object) {\n        if (object instanceof $root.Device)\n            return object;\n        var message = new $root.Device();\n        if (object.id != null)\n            message.id = String(object.id);\n        if (object.userId != null)\n            message.userId = String(object.userId);\n        if (object.activityStreamId != null)\n            message.activityStreamId = String(object.activityStreamId);\n        if (object.webRtcStreamIds) {\n            if (!Array.isArray(object.webRtcStreamIds))\n                throw TypeError(\".Device.webRtcStreamIds: array expected\");\n            message.webRtcStreamIds = [];\n            for (var i = 0; i < object.webRtcStreamIds.length; ++i)\n                message.webRtcStreamIds[i] = String(object.webRtcStreamIds[i]);\n        }\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a Device message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Device\n     * @static\n     * @param {Device} message Device\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Device.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.arrays || options.defaults)\n            object.webRtcStreamIds = [];\n        if (options.defaults) {\n            object.id = \"\";\n            object.userId = \"\";\n            object.activityStreamId = \"\";\n        }\n        if (message.id != null && message.hasOwnProperty(\"id\"))\n            object.id = message.id;\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            object.userId = message.userId;\n        if (message.activityStreamId != null && message.hasOwnProperty(\"activityStreamId\"))\n            object.activityStreamId = message.activityStreamId;\n        if (message.webRtcStreamIds && message.webRtcStreamIds.length) {\n            object.webRtcStreamIds = [];\n            for (var j = 0; j < message.webRtcStreamIds.length; ++j)\n                object.webRtcStreamIds[j] = message.webRtcStreamIds[j];\n        }\n        return object;\n    };\n\n    /**\n     * Converts this Device to JSON.\n     * @function toJSON\n     * @memberof Device\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Device.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Device;\n})();\n\n$root.ChatMessage = (function() {\n\n    /**\n     * Properties of a ChatMessage.\n     * @exports IChatMessage\n     * @interface IChatMessage\n     * @property {string|null} [userId] ChatMessage userId\n     * @property {number|Long|null} [timestamp] ChatMessage timestamp\n     * @property {string|null} [text] ChatMessage text\n     */\n\n    /**\n     * Constructs a new ChatMessage.\n     * @exports ChatMessage\n     * @classdesc Represents a ChatMessage.\n     * @implements IChatMessage\n     * @constructor\n     * @param {IChatMessage=} [properties] Properties to set\n     */\n    function ChatMessage(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * ChatMessage userId.\n     * @member {string} userId\n     * @memberof ChatMessage\n     * @instance\n     */\n    ChatMessage.prototype.userId = \"\";\n\n    /**\n     * ChatMessage timestamp.\n     * @member {number|Long} timestamp\n     * @memberof ChatMessage\n     * @instance\n     */\n    ChatMessage.prototype.timestamp = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * ChatMessage text.\n     * @member {string} text\n     * @memberof ChatMessage\n     * @instance\n     */\n    ChatMessage.prototype.text = \"\";\n\n    /**\n     * Creates a new ChatMessage instance using the specified properties.\n     * @function create\n     * @memberof ChatMessage\n     * @static\n     * @param {IChatMessage=} [properties] Properties to set\n     * @returns {ChatMessage} ChatMessage instance\n     */\n    ChatMessage.create = function create(properties) {\n        return new ChatMessage(properties);\n    };\n\n    /**\n     * Encodes the specified ChatMessage message. Does not implicitly {@link ChatMessage.verify|verify} messages.\n     * @function encode\n     * @memberof ChatMessage\n     * @static\n     * @param {IChatMessage} message ChatMessage message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ChatMessage.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.userId != null && Object.hasOwnProperty.call(message, \"userId\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.userId);\n        if (message.timestamp != null && Object.hasOwnProperty.call(message, \"timestamp\"))\n            writer.uint32(/* id 2, wireType 0 =*/16).uint64(message.timestamp);\n        if (message.text != null && Object.hasOwnProperty.call(message, \"text\"))\n            writer.uint32(/* id 3, wireType 2 =*/26).string(message.text);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified ChatMessage message, length delimited. Does not implicitly {@link ChatMessage.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof ChatMessage\n     * @static\n     * @param {IChatMessage} message ChatMessage message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    ChatMessage.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a ChatMessage message from the specified reader or buffer.\n     * @function decode\n     * @memberof ChatMessage\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {ChatMessage} ChatMessage\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ChatMessage.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ChatMessage();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.userId = reader.string();\n                break;\n            case 2:\n                message.timestamp = reader.uint64();\n                break;\n            case 3:\n                message.text = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a ChatMessage message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof ChatMessage\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {ChatMessage} ChatMessage\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    ChatMessage.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a ChatMessage message.\n     * @function verify\n     * @memberof ChatMessage\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    ChatMessage.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            if (!$util.isString(message.userId))\n                return \"userId: string expected\";\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (!$util.isInteger(message.timestamp) && !(message.timestamp && $util.isInteger(message.timestamp.low) && $util.isInteger(message.timestamp.high)))\n                return \"timestamp: integer|Long expected\";\n        if (message.text != null && message.hasOwnProperty(\"text\"))\n            if (!$util.isString(message.text))\n                return \"text: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a ChatMessage message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof ChatMessage\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {ChatMessage} ChatMessage\n     */\n    ChatMessage.fromObject = function fromObject(object) {\n        if (object instanceof $root.ChatMessage)\n            return object;\n        var message = new $root.ChatMessage();\n        if (object.userId != null)\n            message.userId = String(object.userId);\n        if (object.timestamp != null)\n            if ($util.Long)\n                (message.timestamp = $util.Long.fromValue(object.timestamp)).unsigned = true;\n            else if (typeof object.timestamp === \"string\")\n                message.timestamp = parseInt(object.timestamp, 10);\n            else if (typeof object.timestamp === \"number\")\n                message.timestamp = object.timestamp;\n            else if (typeof object.timestamp === \"object\")\n                message.timestamp = new $util.LongBits(object.timestamp.low >>> 0, object.timestamp.high >>> 0).toNumber(true);\n        if (object.text != null)\n            message.text = String(object.text);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a ChatMessage message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof ChatMessage\n     * @static\n     * @param {ChatMessage} message ChatMessage\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    ChatMessage.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.userId = \"\";\n            if ($util.Long) {\n                var long = new $util.Long(0, 0, true);\n                object.timestamp = options.longs === String ? long.toString() : options.longs === Number ? long.toNumber() : long;\n            } else\n                object.timestamp = options.longs === String ? \"0\" : 0;\n            object.text = \"\";\n        }\n        if (message.userId != null && message.hasOwnProperty(\"userId\"))\n            object.userId = message.userId;\n        if (message.timestamp != null && message.hasOwnProperty(\"timestamp\"))\n            if (typeof message.timestamp === \"number\")\n                object.timestamp = options.longs === String ? String(message.timestamp) : message.timestamp;\n            else\n                object.timestamp = options.longs === String ? $util.Long.prototype.toString.call(message.timestamp) : options.longs === Number ? new $util.LongBits(message.timestamp.low >>> 0, message.timestamp.high >>> 0).toNumber(true) : message.timestamp;\n        if (message.text != null && message.hasOwnProperty(\"text\"))\n            object.text = message.text;\n        return object;\n    };\n\n    /**\n     * Converts this ChatMessage to JSON.\n     * @function toJSON\n     * @memberof ChatMessage\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    ChatMessage.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return ChatMessage;\n})();\n\n$root.Content = (function() {\n\n    /**\n     * Properties of a Content.\n     * @exports IContent\n     * @interface IContent\n     * @property {string|null} [type] Content type\n     * @property {string|null} [contentLocation] Content contentLocation\n     */\n\n    /**\n     * Constructs a new Content.\n     * @exports Content\n     * @classdesc Represents a Content.\n     * @implements IContent\n     * @constructor\n     * @param {IContent=} [properties] Properties to set\n     */\n    function Content(properties) {\n        if (properties)\n            for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n                if (properties[keys[i]] != null)\n                    this[keys[i]] = properties[keys[i]];\n    }\n\n    /**\n     * Content type.\n     * @member {string} type\n     * @memberof Content\n     * @instance\n     */\n    Content.prototype.type = \"\";\n\n    /**\n     * Content contentLocation.\n     * @member {string} contentLocation\n     * @memberof Content\n     * @instance\n     */\n    Content.prototype.contentLocation = \"\";\n\n    /**\n     * Creates a new Content instance using the specified properties.\n     * @function create\n     * @memberof Content\n     * @static\n     * @param {IContent=} [properties] Properties to set\n     * @returns {Content} Content instance\n     */\n    Content.create = function create(properties) {\n        return new Content(properties);\n    };\n\n    /**\n     * Encodes the specified Content message. Does not implicitly {@link Content.verify|verify} messages.\n     * @function encode\n     * @memberof Content\n     * @static\n     * @param {IContent} message Content message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Content.encode = function encode(message, writer) {\n        if (!writer)\n            writer = $Writer.create();\n        if (message.type != null && Object.hasOwnProperty.call(message, \"type\"))\n            writer.uint32(/* id 1, wireType 2 =*/10).string(message.type);\n        if (message.contentLocation != null && Object.hasOwnProperty.call(message, \"contentLocation\"))\n            writer.uint32(/* id 2, wireType 2 =*/18).string(message.contentLocation);\n        return writer;\n    };\n\n    /**\n     * Encodes the specified Content message, length delimited. Does not implicitly {@link Content.verify|verify} messages.\n     * @function encodeDelimited\n     * @memberof Content\n     * @static\n     * @param {IContent} message Content message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Content.encodeDelimited = function encodeDelimited(message, writer) {\n        return this.encode(message, writer).ldelim();\n    };\n\n    /**\n     * Decodes a Content message from the specified reader or buffer.\n     * @function decode\n     * @memberof Content\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {Content} Content\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Content.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader))\n            reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length, message = new $root.Content();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n            case 1:\n                message.type = reader.string();\n                break;\n            case 2:\n                message.contentLocation = reader.string();\n                break;\n            default:\n                reader.skipType(tag & 7);\n                break;\n            }\n        }\n        return message;\n    };\n\n    /**\n     * Decodes a Content message from the specified reader or buffer, length delimited.\n     * @function decodeDelimited\n     * @memberof Content\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @returns {Content} Content\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Content.decodeDelimited = function decodeDelimited(reader) {\n        if (!(reader instanceof $Reader))\n            reader = new $Reader(reader);\n        return this.decode(reader, reader.uint32());\n    };\n\n    /**\n     * Verifies a Content message.\n     * @function verify\n     * @memberof Content\n     * @static\n     * @param {Object.<string,*>} message Plain object to verify\n     * @returns {string|null} `null` if valid, otherwise the reason why it is not\n     */\n    Content.verify = function verify(message) {\n        if (typeof message !== \"object\" || message === null)\n            return \"object expected\";\n        if (message.type != null && message.hasOwnProperty(\"type\"))\n            if (!$util.isString(message.type))\n                return \"type: string expected\";\n        if (message.contentLocation != null && message.hasOwnProperty(\"contentLocation\"))\n            if (!$util.isString(message.contentLocation))\n                return \"contentLocation: string expected\";\n        return null;\n    };\n\n    /**\n     * Creates a Content message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Content\n     * @static\n     * @param {Object.<string,*>} object Plain object\n     * @returns {Content} Content\n     */\n    Content.fromObject = function fromObject(object) {\n        if (object instanceof $root.Content)\n            return object;\n        var message = new $root.Content();\n        if (object.type != null)\n            message.type = String(object.type);\n        if (object.contentLocation != null)\n            message.contentLocation = String(object.contentLocation);\n        return message;\n    };\n\n    /**\n     * Creates a plain object from a Content message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Content\n     * @static\n     * @param {Content} message Content\n     * @param {$protobuf.IConversionOptions} [options] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Content.toObject = function toObject(message, options) {\n        if (!options)\n            options = {};\n        var object = {};\n        if (options.defaults) {\n            object.type = \"\";\n            object.contentLocation = \"\";\n        }\n        if (message.type != null && message.hasOwnProperty(\"type\"))\n            object.type = message.type;\n        if (message.contentLocation != null && message.hasOwnProperty(\"contentLocation\"))\n            object.contentLocation = message.contentLocation;\n        return object;\n    };\n\n    /**\n     * Converts this Content to JSON.\n     * @function toJSON\n     * @memberof Content\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Content.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Content;\n})();\n\nmodule.exports = $root;\n","import { createAction, createReducer } from '@reduxjs/toolkit';\nimport { combineReducers } from 'redux';\nimport { DeviceID } from '../models';\nimport { ValueOf } from '../types';\nimport { ClassAction, classActions } from \"./class\"\n\n/* eslint-disable no-unused-vars */\nexport enum ConnectionStatus {\n    Connecting,\n    Connected,\n    Disconnected,\n}\n/* eslint-enable no-unused-vars */\n\nexport const setConnectionError = createAction<boolean>('setConnectionError');\nexport const connectionError = createReducer<boolean>(\n    false, (builder) => builder.addCase(setConnectionError, (_, {payload}) => payload)\n);\n\nexport const setConnectionStatus = createAction<ConnectionStatus>('setConnectionState');\nexport const connectionStatus = createReducer<ConnectionStatus>(\n    ConnectionStatus.Disconnected,\n    (builder) => builder.addCase(setConnectionStatus, (_, {payload}) => payload)\n);\n\n\nexport const myDeviceId = createReducer<DeviceID|null>(\n    null,\n    (builder) => builder.addCase(classActions.join, (_, {payload}) => payload.deviceId)\n);\n\nexport const networkReducer = combineReducers({\n    connectionStatus,\n    connectionError,\n    myDeviceId,\n});\n\nconst networkActions = {\n    setConnectionError,\n    setConnectionState: setConnectionStatus,\n};\n\nexport type NetworkAction = ReturnType<ValueOf<typeof networkActions>>","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { Store } from '@reduxjs/toolkit';\nimport { nanoid } from 'nanoid';\nimport { Action, ClassActionType, classSliceActionPrefix, NetworkHandlerCallback, State } from './ui';\nimport { NewType } from './types';\nimport { ClassRequest, IClassRequest, ClassMessage, IClassResponse } from './protobuf';\nimport { messageToClassAction } from './protobuf/actions';\nimport { EventEmitter } from 'eventemitter3';\nimport { ConnectionStatus, setConnectionError, setConnectionStatus } from './redux/network';\n\nexport type RequestID = NewType<string, 'RequestID'>\nexport const newRequestId = (value: string): RequestID => value as RequestID;\n\ninterface NetworkPromise {\n    resolve: () => unknown,\n    reject: (reason?: string) => unknown\n}\n\nexport class Network<ApplicationState=unknown> {\n    private actionEmitter = new EventEmitter();\n    // Maintains a map of promises to be resolved/rejected on receipt of a future network message\n    private pendingRequests = new Map<RequestID, NetworkPromise>()\n\n    private recieveTimeoutReference?: number\n    private recieveMessageTimeoutTime = 5000\n\n    private keepAliveTimeoutReference?: number\n    private sendKeepAliveMessageInterval = 1000\n\n    constructor(\n        /* eslint-disable no-unused-vars */\n        public readonly store: Store<ApplicationState, Action>,\n        public readonly selector: (s: ApplicationState) => State,\n        private ws?: Promise<WebSocket>,\n        /* eslint-enable no-unused-vars */\n    ) { }\n\n    public onClassAction<T extends ClassActionType = ClassActionType>(actionType: T, f: NetworkHandlerCallback<T>) {\n        // TODO: This event mapping is highly specific to the class slice, how to accomodate additional reducers/slices\n        const event = `${classSliceActionPrefix}/${actionType}`\n        this.actionEmitter.addListener(event, f)\n        return () => {\n          this.actionEmitter.removeListener(event, f)\n        }\n    }\n\n    public async initWs(url: string): Promise<WebSocket> {\n        if (this.ws) { return this.ws; }\n        this.ws = new Promise<WebSocket>((resolve, reject) => {\n            this.store.dispatch(setConnectionStatus(ConnectionStatus.Connecting));\n\n            const ws = new WebSocket(url, ['live']);\n            ws.binaryType = 'arraybuffer';\n            ws.addEventListener('open', (e) => {\n                console.log('open', e);\n                resolve(ws);\n                this.store.dispatch(setConnectionError(false));\n                this.store.dispatch(setConnectionStatus(ConnectionStatus.Connected));\n                this.resetNetworkSendTimeout();\n                this.resetNetworkRecieveTimeout();\n            });\n            ws.addEventListener('close', (e) => {\n                console.log('close', e);\n                this.ws = undefined;\n                reject(e);\n                this.store.dispatch(setConnectionStatus(ConnectionStatus.Disconnected));\n            });\n            ws.addEventListener('error', (e) => {\n                console.log('error', e);\n                reject(e);\n                this.store.dispatch(setConnectionError(true));\n            });\n            ws.addEventListener('message', (e) => {\n                this.onNetworkMessage(ws, e.data);\n            });\n        });\n        return this.ws;\n    }\n\n    public async close(code: number | undefined = 4500, reason?: string): Promise<void> {\n        (await this.ws)?.close(code, reason);\n    }\n\n    public async send(command: IClassRequest): Promise<void> {\n        if (!this.ws) {\n            throw Error('websocket has not been initialised');\n        }\n        const requestId = nanoid() as RequestID;\n        const bytes = ClassRequest.encode({ requestId, ...command }).finish();\n        const sent = await this._send(bytes);\n        if (!sent) { throw new Error('Failed to send'); }\n        return new Promise<void>((resolve, reject) => this.pendingRequests.set(requestId, { resolve, reject }));\n    }\n\n    private async _send(bytes: ArrayBuffer) {\n        const ws = await this.ws;\n        if (!ws) { return false; }\n        ws.send(bytes);\n        this.resetNetworkSendTimeout();\n        return true;\n    }\n\n    private onNetworkMessage(ws: WebSocket, data: unknown) {\n        this.resetNetworkRecieveTimeout();\n        if (!(data instanceof ArrayBuffer)) {\n            ws.close(4401, 'Binary only protocol');\n            return;\n        }\n        try {\n            if (data.byteLength <= 0) { return; }\n            const message = ClassMessage.decode(new Uint8Array(data));\n\n            if (message.response) { this.handleRequestPromise(message.response); }\n            const action = messageToClassAction(message);\n            if (!action) { return; }\n            this.store.dispatch(action);\n            const state = this.selector(this.store.getState())\n            this.actionEmitter.emit(action.type, action.payload, state);\n        } catch (e) {\n            console.error(e)\n            ws.close(4400, 'Parse error');\n        }\n    }\n\n    private handleRequestPromise(event: IClassResponse) {\n        if (!event.id) { console.error('Recieved ClassResponse without an id'); return; }\n        const id = newRequestId(event.id);\n\n        const pendingPromise = this.pendingRequests.get(id);\n        if (!pendingPromise) {\n            console.error(`Recieved aknowledge(${id}) for unknown request`);\n            return;\n        }\n\n        this.pendingRequests.delete(id);\n        if (event.error) {\n            pendingPromise.reject(event.error);\n        } else {\n            pendingPromise.resolve();\n        }\n    }\n\n    private resetNetworkRecieveTimeout(): void {\n        // Enable this when the client implments sending keep alive messages \n        if (this.recieveTimeoutReference !== undefined) { clearTimeout(this.recieveTimeoutReference); }\n        this.recieveTimeoutReference = setTimeout(() => this.close(4400, 'timeout'), this.recieveMessageTimeoutTime);\n    }\n\n    private resetNetworkSendTimeout(): void {\n        if (this.keepAliveTimeoutReference) { clearTimeout(this.keepAliveTimeoutReference); }\n        this.keepAliveTimeoutReference = setTimeout(() => this._send(new Uint8Array(0)), this.sendKeepAliveMessageInterval);\n    }\n\n}","import React, { useMemo, ReactNode } from \"react\";\nimport { useStore } from \"react-redux\";\nimport { Action, State } from \"../ui\";\nimport { Network } from \"../network\";\nimport NetworkContext from \"./context\";\n\nexport interface NetworkProviderProps<ApplicationState=unknown> {\n  children?: ReactNode;\n  selector: (state: ApplicationState) => State;\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function NetworkProvider<ApplicationState=unknown>({\n  children,\n  selector,\n}:NetworkProviderProps<ApplicationState>) {\n  const store = useStore<ApplicationState,Action>();\n  const value = useMemo(() => new Network(store, selector), [store, selector]);\n  return (\n    <NetworkContext.Provider value={value as Network<unknown>}>{children}</NetworkContext.Provider>\n  );\n};\n","import { combineReducers } from 'redux';\nimport { ClassAction, classReducer } from './class';\nimport { NetworkAction, networkReducer } from './network';\n\nexport const reducer = combineReducers({\n  class: classReducer,\n  network: networkReducer,\n});\n\nexport type State = ReturnType<typeof reducer> \nexport type Action =  ClassAction | NetworkAction\n","import { newUserRole, UserState } from \"./models\";\n\nexport const roles = {\n    /** Consider using isTeacher() for comparison */\n    Teacher: newUserRole(\"teacher\"),\n    /** Consider using isStudent() for comparison */\n    Student: newUserRole(\"student\"),\n}\n\nexport function isTeacher({ role }: UserState) {\n    return role === roles.Teacher\n}\n\nexport function isStudent({ role }: UserState) {\n    return role === roles.Student\n}"],"names":["FeedbackType","QuickFeedbackType","ContentType","newUserId","value","newDeviceId","newActivityStreamId","newWebRtcStreamId","newTimestamp","newTrophyType","newUserRole","role","n","t","arguments","length","r","Array","e","process","env","NODE_ENV","i","Y","o","apply","Error","map","join","Q","Object","getPrototypeOf","hasOwnProperty","call","constructor","Function","toString","Z","isArray","L","s","v","keys","nn","forEach","u","has","prototype","a","get","f","set","delete","add","c","X","Map","q","Set","p","l","slice","tn","writable","configurable","enumerable","create","d","y","clear","h","freeze","isFrozen","b","rn","m","_","U","j","O","g","S","w","P","M","x","H","A","I","k","R","D","concat","F","z","getOwnPropertyDescriptor","E","N","T","C","en","on","Proxy","revocable","revoke","proxy","J","push","K","from","this","JSON","stringify","defineProperty","Math","min","G","W","Symbol","B","Reflect","for","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","deleteProperty","setPrototypeOf","isNaN","parseInt","un","produce","Promise","then","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","$","an","fn","bind","formatProdErrorMessage","code","randomString","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","miniKindOf","val","type","isDate","isError","constructorName","ctorName","toLowerCase","replace","name","message","stackTraceLimit","Date","toDateString","getDate","setDate","kindOf","typeOfVal","warning","console","error","getUnexpectedStateShapeWarningMessage","inputState","reducers","action","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","filter","key","assertReducerShape","reducer","undefined","combineReducers","finalReducers","shapeAssertionError","finalReducerKeys","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","actionType","String","isCrushed","__extends","extendStatics","__proto__","TypeError","__","__spreadArray","to","il","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","_b","createAction","prepareAction","actionCreator","args","prepared","payload","meta","match","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createReducer","initialState","mapOrBuilderCallback","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState","createNextState","caseReducers","cr","reduce","previousState","caseReducer","result","isDraft2","isDraftable","draft","getType2","actionKey","createSlice","options","extraReducers","_c","_d","_e","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","_super","MiddlewareArray","_this","species","arr","prepend","enableES5","values","isAllowedToBecomeHost","INITIAL_ROOM_STATE","users","devices","chatMessages","content","Blank","hostDeviceId","classEndTime","_state","endClass","timestamp","deviceConnect","device","id","userId","user","deviceIds","trophies","deviceDisconnect","deviceId","userIds","sort","setHost","setContent","addChatMessage","chatMessage","setActivityStreamId","activityStreamId","activityStreamID","rewardTrophyToUser","trophy","rewardTrophyToAll","classSliceActionPrefix","classSlice","classReducer","classActions","validateChatMessage","text","validateContentType","validateContent","contentLocation","validateState","classState","validChatMessage","validContent","validatedDevice","validateDevice","validUser","validateUser","priorDeviceCount","classEndedTime","validTrophy","validateTrophy","webRtcStreamIds","webRTCStreamIDs","messageToClassAction","actvityStreamIdChanged","actvityStreamIdChangedAction","classEnded","classEndedAction","contentChanged","contentChangedAction","deviceConnected","deviceConnectedAction","deviceDisconnected","deviceDisconnectedAction","hostChanged","hostChangedAction","newChatMessage","newChatMessageAction","joinEvent","joinAction","trophyRewardedToAll","trophyRewardedToAllAction","trophyRewardedToUser","trophyRewardedToUserAction","event","_extends","assign","target","source","iterator","asyncIterator","useIsomorphicLayoutEffect","window","document","createElement","useLayoutEffect","useEffect","useGetter","ref","useRef","current","useCallback","InitialAsyncState","status","loading","InitialAsyncLoadingState","defaultSetLoading","_asyncState","defaultSetResult","defaultSetError","noop","DefaultOptions","executeOnMount","executeOnUpdate","setLoading","setResult","setError","onSuccess","onError","normalizeOptions","useAsyncState","_useState","useState","setValue","reset","merge","useIsMounted","useCurrentPromise","promise","is","useAsyncInternal","asyncFunction","params","normalizedOptions","_useState2","currentParams","setCurrentParams","AsyncState","isMounted","CurrentPromise","shouldHandlePromise","getLatestExecuteAsyncOperation","_len","resolve","reject","isCurrent","executeAsyncOperationMemo","isMounting","execute","currentPromise","useAsyncCallback","NetworkContext","React","createContext","useJoinClass","network","useContext","joinClass","url","initWs","useLeaveClass","leaveClass","reason","close","useEndClass","useNetworkAction","useRewardTrophyToAll","now","useRewardTrophyToUser","useSendChatMessage","sendChatMessage","useSetActvityStreamId","setActvityStreamId","useSetContent","useSetHost","buildRequest","async","request","send","useNetworkState","selector","useSelector","useNetworkHandler","callback","onClassAction","displayName","nanoid","size","bytes","crypto","getRandomValues","Uint8Array","byte","toUpperCase","aspromise","asPromise","ctx","offset","index","pending","err","base64","string","charAt","ceil","b64","s64","encode","buffer","start","end","parts","chunk","fromCharCode","invalidEncoding","decode","charCodeAt","test","eventemitter","EventEmitter","_listeners","evt","off","listeners","splice","emit","float","factory","exports","Float32Array","f32","f8b","le","writeFloat_f32_cpy","buf","pos","writeFloat_f32_rev","readFloat_f32_cpy","readFloat_f32_rev","writeFloatLE","writeFloatBE","readFloatLE","readFloatBE","writeFloat_ieee754","writeUint","sign","round","exponent","floor","log","LN2","pow","readFloat_ieee754","readUint","uint","mantissa","NaN","Infinity","writeUintLE","writeUintBE","readUintLE","readUintBE","Float64Array","f64","writeDouble_f64_cpy","writeDouble_f64_rev","readDouble_f64_cpy","readDouble_f64_rev","writeDoubleLE","writeDoubleBE","readDoubleLE","readDoubleBE","writeDouble_ieee754","off0","off1","readDouble_ieee754","lo","hi","inquire_1","inquire","moduleName","mod","eval","utf8","len","read","write","c1","c2","pool_1","pool","alloc","SIZE","MAX","slab","longbits","LongBits","util","require$$0","zero","toNumber","zzEncode","zzDecode","zeroHash","fromNumber","isString","Long","fromString","low","high","unsigned","toLong","Boolean","fromHash","hash","toHash","mask","part0","part1","part2","dst","src","ifNotSet","newError","CustomError","properties","captureStackTrace","stack","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","isNode","global","versions","node","self","emptyArray","emptyObject","isInteger","Number","isFinite","isObject","isset","isSet","Buffer","utf8Write","_Buffer_from","_Buffer_allocUnsafe","newBuffer","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","bits","fromBits","lcFirst","str","ProtocolError","oneOfGetter","fieldNames","fieldMap","oneOfSetter","toJSONOptions","longs","enums","json","_configure","encoding","allocUnsafe","writer","Writer","BufferWriter","Op","next","State","head","tail","states","writeByte","writeVarint32","VarintOp","writeVarint64","writeFixed32","subarray","_push","uint32","int32","sint32","uint64","int64","sint64","bool","fixed32","sfixed32","fixed64","sfixed64","double","writeBytes","fork","ldelim","finish","BufferWriter_","writer_buffer","writeStringBuffer","writeBytesBuffer","copy","byteLength","reader","Reader","BufferReader","indexOutOfRange","writeLength","RangeError","create_array","isBuffer","readLongVarint","readFixed32_end","readFixed64","_slice","skip","skipType","wireType","BufferReader_","reader_buffer","utf8Slice","service","Service","rpcImpl","requestDelimited","responseDelimited","rpcCall","method","requestCtor","responseCtor","response","setTimeout","endedByRPC","roots","protobuf","configure","build","rpc","minimal","$protobuf","$Reader","$Writer","$util","$root","ClassRequest","$oneOfFields","requestId","EndClassCommand","SetHostCommand","SetContentCommand","SetActivityStreamIdCommand","RewardTrophyToUserCommand","RewardTrophyToAllCommand","SendChatMessageCommand","encodeDelimited","tag","decodeDelimited","verify","command","fromObject","object","toObject","defaults","oneofs","toJSON","ClassResponse","ClassMessage","JoinEvent","DeviceConnectedEvent","DeviceDisconnectedEvent","ClassEndedEvent","HostChangedEvent","ContentChangedEvent","ActivityStreamIdChangedEvent","TrophyRewardedToUserEvent","TrophyRewardedToAllEvent","NewChatMessageEvent","Content","Trophy","ClassState","fromValue","long","Device","ChatMessage","User","end2","tag2","keys2","arrays","objects","ConnectionStatus","prefix","Events","EE","context","once","addListener","emitter","listener","_events","_eventsCount","clearEvent","eventNames","events","names","handlers","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","removeAllListeners","prefixed","module","setConnectionError","connectionError","setConnectionStatus","connectionStatus","Disconnected","myDeviceId","networkReducer","newRequestId","Network","store","ws","actionEmitter","dispatch","Connecting","WebSocket","binaryType","addEventListener","Connected","resetNetworkSendTimeout","resetNetworkRecieveTimeout","onNetworkMessage","data","_send","pendingRequests","ArrayBuffer","handleRequestPromise","getState","pendingPromise","recieveTimeoutReference","clearTimeout","recieveMessageTimeoutTime","keepAliveTimeoutReference","sendKeepAliveMessageInterval","NetworkProvider","children","useStore","useMemo","Provider","class","roles","Teacher","Student","isTeacher","isStudent"],"mappings":"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"}